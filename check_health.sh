#!/bin/bash
echo "๐ ุจุฑุฑุณ ุณูุงูุช ุณุณุชู TetraShop"
echo "================================"

# ุจุฑุฑุณ ุงุฌุฑุง Gateway
echo "1. ุจุฑุฑุณ Gateway API..."
if lsof -i:3000 > /dev/null; then
    echo "   โ Gateway ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช"
    curl -s http://localhost:3000/health | grep -q "healthy" && echo "   โ ุณูุงูุช API ุชุงุฏ ุดุฏ" || echo "   โ๏ธ  ูพุงุณุฎ ุณูุงูุช ุบุฑุนุงุฏ"
else
    echo "   โ Gateway ุงุฌุฑุง ูุณุช"
fi

# ุจุฑุฑุณ ูุฌูุฏ ูุงูโูุง ุญุงุช
echo ""
echo "2. ุจุฑุฑุณ ูุงูโูุง ุญุงุช..."
[ -f "public/index.html" ] && echo "   โ ูุฑูุดฺฏุงู ูุฌูุฏ ุฏุงุฑุฏ" || echo "   โ ูุฑูุดฺฏุงู ุงูุช ูุดุฏ"
[ -f "api/gateway/server.js" ] && echo "   โ Gateway ูุฌูุฏ ุฏุงุฑุฏ" || echo "   โ Gateway ุงูุช ูุดุฏ"
[ -f "data/cloud-services.json" ] && echo "   โ ฺฉุงุชุงููฺฏ ุณุฑูุณ ูุฌูุฏ ุฏุงุฑุฏ" || echo "   โ ฺฉุงุชุงููฺฏ ุงูุช ูุดุฏ"

# ุจุฑุฑุณ ูุฎุฒู ุณุฑูุณโูุง
echo ""
echo "3. ุจุฑุฑุณ ุณุฑูุณโูุง ููุจุน..."
if [ -d "../tetrasaas-final" ]; then
    SERVICE_COUNT=$(find ../tetrasaas-final -name "*.js" -o -name "*.py" | wc -l)
    echo "   โ ูุฎุฒู tetrasaas-final ูุฌูุฏ ุฏุงุฑุฏ ($SERVICE_COUNT ูุงู ุณุฑูุณ)"
else
    echo "   โ๏ธ  ูุฎุฒู tetrasaas-final ุงูุช ูุดุฏ"
fi

# ููุงุด ุงุชุตุงูุงุช ูุงุฒู
echo ""
echo "๐ ุฎูุงุตู ูุถุนุช:"
echo "ุฏุฑ ุญุงู ุญุงุถุฑ ณ ุณุฑูุณ ูุณุชูู ุฏุงุฑุฏ ฺฉู ูุงุฒ ุจู ุงุชุตุงู ุฏุงุฑูุฏ:"
echo "  - ูุฑูุดฺฏุงู (ุขูุงุฏู)"
echo "  - Gateway (ุขูุงุฏู)" 
echo "  - ุณุฑูุณโูุง ูุงูุน (ูุงุฒ ุจู ุงุชุตุงู)"
echo ""
echo "๐ฏ ูุฏู ุจุนุฏ: ุงุชุตุงู Gateway ุจู ุงููู ุณุฑูุณ ูุงูุน ุงุฒ tetrasaas-final"
