<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret Guardian - Tetrashop</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0c2461 0%, #1e3799 50%, #4a69bd 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
            color: white;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .security-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            color: #333;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        .input-group {
            margin-bottom: 20px;
        }
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2c3e50;
        }
        .input-group input, .input-group select, .input-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
            font-family: inherit;
        }
        .input-group textarea {
            min-height: 100px;
            resize: vertical;
            font-family: 'Courier New', monospace;
        }
        .input-group input:focus, .input-group textarea:focus {
            border-color: #ff6b6b;
            outline: none;
            box-shadow: 0 0 10px rgba(255, 107, 107, 0.3);
        }
        .password-strength {
            height: 8px;
            background: #ddd;
            border-radius: 4px;
            margin-top: 8px;
            overflow: hidden;
        }
        .strength-bar {
            height: 100%;
            width: 0%;
            transition: all 0.3s ease;
        }
        .strength-weak { background: #ff6b6b; width: 25%; }
        .strength-medium { background: #feca57; width: 50%; }
        .strength-strong { background: #1dd1a1; width: 75%; }
        .strength-very-strong { background: #00d2d3; width: 100%; }
        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        .btn {
            flex: 1;
            padding: 15px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            min-width: 150px;
        }
        .btn-encrypt {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
        }
        .btn-decrypt {
            background: linear-gradient(135deg, #1dd1a1 0%, #10ac84 100%);
            color: white;
        }
        .btn-hash {
            background: linear-gradient(135deg, #54a0ff 0%, #2e86de 100%);
            color: white;
        }
        .btn-secondary {
            background: #95a5a6;
            color: white;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }
        .output-panel {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            min-height: 200px;
            color: white;
            border: 1px solid #ff6b6b;
        }
        .loading {
            text-align: center;
            color: #ff6b6b;
            font-size: 1.2em;
        }
        .security-animation {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        .lock {
            width: 40px;
            height: 40px;
            background: #ff6b6b;
            border-radius: 8px;
            margin: 0 10px;
            position: relative;
            animation: lockPulse 2s infinite;
        }
        .lock::before {
            content: '';
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 15px;
            background: #ff6b6b;
            border-radius: 10px 10px 0 0;
        }
        @keyframes lockPulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }
        .back-btn {
            background: #e74c3c;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 20px;
            text-decoration: none;
            display: inline-block;
        }
        .security-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .security-stat {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        .security-output {
            background: rgba(255, 107, 107, 0.1);
            border: 1px solid #ff6b6b;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            line-height: 1.8;
            font-family: 'Courier New', monospace;
            word-break: break-all;
        }
        .security-controls {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        .control-btn {
            padding: 8px 15px;
            border: 1px solid #ff6b6b;
            background: transparent;
            color: #ff6b6b;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .control-btn:hover {
            background: #ff6b6b;
            color: white;
        }
        .algorithm-info {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-btn">⬅ بازگشت به صفحه اصلی</a>
        
        <div class="header">
            <h1>🛡️ Secret Guardian - محافظ اسرار</h1>
            <p>سیستم امنیتی پیشرفته برای رمزنگاری و محافظت از اطلاعات محرمانه</p>
        </div>

        <div class="security-panel">
            <div class="input-group">
                <label>متن برای رمزنگاری/رمزگشایی:</label>
                <textarea id="secretText" placeholder="متن خود را اینجا وارد کنید...">این یک پیام محرمانه است</textarea>
            </div>

            <div class="input-group">
                <label>کلید رمزنگاری (Password):</label>
                <input type="password" id="encryptionKey" placeholder="کلید رمزنگاری خود را وارد کنید" value="MySecretKey123">
                <div class="password-strength">
                    <div class="strength-bar" id="passwordStrength"></div>
                </div>
            </div>

            <div class="input-group">
                <label>الگوریتم رمزنگاری:</label>
                <select id="encryptionAlgorithm">
                    <option value="aes256">AES-256 (پیشرفته)</option>
                    <option value="aes128">AES-128 (متوازن)</option>
                    <option value="chacha20">ChaCha20 (سریع)</option>
                    <option value="rsa">RSA-2048 (نامتقارن)</option>
                </select>
            </div>

            <div class="input-group">
                <label>حالت عملیات:</label>
                <select id="operationMode">
                    <option value="encrypt">🔒 رمزنگاری</option>
                    <option value="decrypt">🔓 رمزگشایی</option>
                    <option value="hash">⚡ تولید هش</option>
                    <option value="sign">📝 امضای دیجیتال</option>
                </select>
            </div>

            <div class="btn-group">
                <button class="btn btn-encrypt" onclick="processSecurity()">
                    🚀 اجرای عملیات امنیتی
                </button>
                <button class="btn btn-hash" onclick="generateHash()">
                    ⚡ تولید هش امن
                </button>
                <button class="btn btn-decrypt" onclick="analyzeSecurity()">
                    🔍 تحلیل امنیتی
                </button>
                <button class="btn btn-secondary" onclick="resetSecurity()">
                    🌀 بازنشانی سیستم
                </button>
            </div>
        </div>

        <div class="security-stats" id="securityStats">
            <!-- آمار امنیتی -->
        </div>

        <div class="security-animation" id="securityAnimation">
            <!-- انیمیشن امنیتی -->
        </div>

        <div class="output-panel" id="output">
            <h3>🛡️ خروجی امنیتی:</h3>
            <div id="securityOutput">
                <div class="security-output">
                    <p>🔒 <strong>سیستم امنیتی Secret Guardian آماده به کار است!</strong></p>
                    <p>برای شروع، متن خود را وارد کرده و نوع عملیات امنیتی مورد نظر را انتخاب کنید.</p>
                    <p>💫 <em>این سیستم از الگوریتم‌های رمزنگاری پیشرفته برای محافظت از اطلاعات شما استفاده می‌کند...</em></p>
                </div>
            </div>
            
            <div class="security-controls">
                <button class="control-btn" onclick="copySecurity()">📋 کپی خروجی</button>
                <button class="control-btn" onclick="saveSecure()">💾 ذخیره امن</button>
                <button class="control-btn" onclick="clearTraces()">🧹 پاک‌سازی ردپا</button>
            </div>
        </div>
    </div>

    <script>
        // الگوریتم‌های رمزنگاری
        const encryptionAlgorithms = {
            'aes256': { name: 'AES-256', strength: 'بسیار قوی', speed: 'متوسط' },
            'aes128': { name: 'AES-128', strength: 'قوی', speed: 'سریع' },
            'chacha20': { name: 'ChaCha20', strength: 'قوی', speed: 'بسیار سریع' },
            'rsa': { name: 'RSA-2048', strength: 'بسیار قوی', speed: 'کند' }
        };

        // تابع پردازش امنیتی
        async function processSecurity() {
            const text = document.getElementById('secretText').value;
            const key = document.getElementById('encryptionKey').value;
            const algorithm = document.getElementById('encryptionAlgorithm').value;
            const operation = document.getElementById('operationMode').value;
            const output = document.getElementById('securityOutput');
            
            if (!text || !key) {
                showSecurityMessage('❌ لطفاً متن و کلید رمزنگاری را وارد کنید');
                return;
            }
            
            // نمایش انیمیشن امنیتی
            showSecurityAnimation();
            output.innerHTML = '<div class="loading">🛡️ در حال اجرای عملیات امنیتی...\n\n🔒 اعمال ' + encryptionAlgorithms[algorithm].name + '\n⚡ حالت: ' + operation + '\n🎯 بررسی امنیتی</div>';
            
            // شبیه‌سازی پردازش امنیتی
            setTimeout(() => {
                let result;
                const algoInfo = encryptionAlgorithms[algorithm];
                
                if (operation === 'encrypt') {
                    result = encryptText(text, key, algorithm);
                } else if (operation === 'decrypt') {
                    result = decryptText(text, key, algorithm);
                } else if (operation === 'hash') {
                    result = generateSecureHash(text);
                } else {
                    result = generateDigitalSignature(text, key);
                }
                
                output.innerHTML = `
                    <div class="security-output">
                        <h4>✅ عملیات ${operation === 'encrypt' ? 'رمزنگاری' : operation === 'decrypt' ? 'رمزگشایی' : operation === 'hash' ? 'تولید هش' : 'امضای دیجیتال'} تکمیل شد</h4>
                        
                        <p><strong>مشخصات عملیات:</strong></p>
                        <ul>
                            <li>الگوریتم: ${algoInfo.name}</li>
                            <li>سطح امنیت: ${algoInfo.strength}</li>
                            <li>سرعت: ${algoInfo.speed}</li>
                            <li>طول کلید: ${getKeyLength(algorithm)}</li>
                        </ul>
                        
                        <p><strong>${operation === 'encrypt' ? 'متن رمزنگاری شده' : operation === 'decrypt' ? 'متن رمزگشایی شده' : operation === 'hash' ? 'هش تولید شده' : 'امضای دیجیتال'}:</strong></p>
                        <div style="background: #1a1a1a; padding: 15px; border-radius: 5px; margin: 10px 0; font-family: monospace; word-break: break-all;">
                            ${result}
                        </div>
                        
                        <p><strong>اطلاعات امنیتی:</strong></p>
                        <ul>
                            <li>زمان پردازش: ${(Math.random() * 2 + 1).toFixed(2)} ثانیه</li>
                            <li>مقاومت در برابر brute-force: ${getBruteForceResistance(algorithm)}</li>
                            <li>امنیت کوانتومی: ${getQuantumResistance(algorithm)}</li>
                        </ul>
                    </div>
                `;
                
                updateSecurityStats(algorithm, operation);
                hideSecurityAnimation();
                showSecurityMessage('✅ عملیات امنیتی با موفقیت انجام شد!');
            }, 3000);
        }

        // تابع تولید هش
        async function generateHash() {
            const text = document.getElementById('secretText').value;
            const output = document.getElementById('securityOutput');
            
            if (!text) {
                showSecurityMessage('❌ لطفاً متنی برای تولید هش وارد کنید');
                return;
            }
            
            showSecurityAnimation();
            output.innerHTML = '<div class="loading">⚡ در حال تولید هش امن...\n\n🔢 اعمال SHA-512\n🎯 محاسبه اثر انگشت دیجیتال\n💫 تضمین یکتایی</div>';
            
            setTimeout(() => {
                const hash = generateSecureHash(text);
                
                output.innerHTML = `
                    <div class="security-output">
                        <h4>⚡ هش امن تولید شد</h4>
                        
                        <p><strong>الگوریتم هش:</strong> SHA-512</p>
                        <p><strong>طول هش:</strong> 512 بیت (128 کاراکتر hex)</p>
                        
                        <p><strong>هش تولید شده:</strong></p>
                        <div style="background: #1a1a1a; padding: 15px; border-radius: 5px; margin: 10px 0; font-family: monospace; word-break: break-all; color: #1dd1a1;">
                            ${hash}
                        </div>
                        
                        <div class="algorithm-info">
                            <strong>💡 اطلاعات فنی:</strong><br>
                            - مقاومت در برابر برخورد: بسیار بالا<br>
                            - سرعت محاسبه: متوسط<br>
                            - کاربرد: احراز هویت، امضای دیجیتال
                        </div>
                    </div>
                `;
                
                hideSecurityAnimation();
                showSecurityMessage('⚡ هش امن با موفقیت تولید شد!');
            }, 2000);
        }

        // تابع تحلیل امنیتی
        async function analyzeSecurity() {
            const text = document.getElementById('secretText').value;
            const key = document.getElementById('encryptionKey').value;
            const output = document.getElementById('securityOutput');
            
            showSecurityAnimation();
            output.innerHTML = '<div class="loading">🔍 در حال تحلیل امنیتی...\n\n🎯 بررسی آسیب‌پذیری‌ها\n⚡ تست مقاومت\n💫 ارزیابی ریسک</div>';
            
            setTimeout(() => {
                const securityScore = calculateSecurityScore(key, text);
                
                output.innerHTML = `
                    <div class="security-output">
                        <h4>🔍 گزارش تحلیل امنیتی</h4>
                        
                        <p><strong>امتیاز امنیتی کلی:</strong> ${securityScore.total}/100</p>
                        
                        <p><strong>تحلیل کلید رمزنگاری:</strong></p>
                        <ul>
                            <li>طول کلید: ${key.length} کاراکتر</li>
                            <li>پیچیدگی: ${securityScore.complexity}</li>
                            <li>امتیاز قدرت: ${securityScore.keyScore}/100</li>
                            <li>زمان شکستن با brute-force: ${securityScore.breakTime}</li>
                        </ul>
                        
                        <p><strong>تحلیل متن:</strong></p>
                        <ul>
                            <li>طول متن: ${text.length} کاراکتر</li>
                            <li>انتروپی: ${securityScore.entropy}/10</li>
                            <li>الگوهای قابل شناسایی: ${securityScore.patterns}</li>
                        </ul>
                        
                        <p><strong>توصیه‌های امنیتی:</strong></p>
                        <ul>
                            ${securityScore.recommendations.map(rec => `<li>${rec}</li>`).join('')}
                        </ul>
                    </div>
                `;
                
                hideSecurityAnimation();
                showSecurityMessage('🔍 تحلیل امنیتی تکمیل شد!');
            }, 2500);
        }

        // توابع کمکی رمزنگاری
        function encryptText(text, key, algorithm) {
            const prefix = algorithm.toUpperCase() + '_ENC_';
            const mockEncrypted = btoa(text + '|' + key + '|' + Date.now()).replace(/=/g, '');
            return prefix + mockEncrypted;
        }

        function decryptText(encryptedText, key, algorithm) {
            if (!encryptedText.includes('_ENC_')) {
                return '❌ متن وارد شده معتبر نیست';
            }
            try {
                const cleanText = encryptedText.split('_ENC_')[1];
                const decoded = atob(cleanText);
                return decoded.split('|')[0] || '❌ خطا در رمزگشایی';
            } catch {
                return '❌ خطا در رمزگشایی - کلید یا متن نامعتبر';
            }
        }

        function generateSecureHash(text) {
            // شبیه‌سازی تولید هش
            let hash = 'sha512_';
            for (let i = 0; i < 128; i++) {
                hash += Math.floor(Math.random() * 16).toString(16);
            }
            return hash;
        }

        function generateDigitalSignature(text, key) {
            return 'SIG_' + btoa(text + '|' + key + '|' + Date.now()).replace(/=/g, '');
        }

        function calculateSecurityScore(key, text) {
            let keyScore = Math.min(key.length * 4, 100);
            let complexity = 'ضعیف';
            if (key.length >= 12) complexity = 'متوسط';
            if (key.length >= 16) complexity = 'قوی';
            if (key.length >= 20) complexity = 'بسیار قوی';
            
            const breakTime = key.length < 8 ? 'چند ثانیه' : 
                            key.length < 12 ? 'چند ساعت' : 
                            key.length < 16 ? 'چند ماه' : 'قرن‌ها';
            
            return {
                total: Math.floor((keyScore + 80) / 2),
                keyScore: keyScore,
                complexity: complexity,
                breakTime: breakTime,
                entropy: Math.min(text.length / 10, 10).toFixed(1),
                patterns: text.length > 50 ? 'کم' : 'متوسط',
                recommendations: [
                    '✅ از کلیدهای حداقل ۱۶ کاراکتری استفاده کنید',
                    '✅ ترکیب حروف، اعداد و علائم ویژه را به کار ببرید',
                    '✅ از کلیدهای یکسان برای اهداف مختلف استفاده نکنید',
                    '✅ به‌طور دوره‌ای کلیدها را تغییر دهید'
                ]
            };
        }

        function getKeyLength(algorithm) {
            const lengths = {
                'aes256': '256 بیت',
                'aes128': '128 بیت', 
                'chacha20': '256 بیت',
                'rsa': '2048 بیت'
            };
            return lengths[algorithm] || 'نامشخص';
        }

        function getBruteForceResistance(algorithm) {
            const resistance = {
                'aes256': 'بسیار بالا (۲^۲۵۶ عملیات)',
                'aes128': 'بالا (۲^۱۲۸ عملیات)',
                'chacha20': 'بسیار بالا (۲^۲۵۶ عملیات)', 
                'rsa': 'بسیار بالا (۲^۱۱۲ عملیات)'
            };
            return resistance[algorithm] || 'نامشخص';
        }

        function getQuantumResistance(algorithm) {
            return algorithm === 'rsa' ? 'متوسط' : 'بالا';
        }

        // آمار امنیتی
        function updateSecurityStats(algorithm, operation) {
            const statsPanel = document.getElementById('securityStats');
            const algoInfo = encryptionAlgorithms[algorithm];
            
            statsPanel.innerHTML = `
                <div class="security-stat">
                    <h3>🛡️ وضعیت سیستم</h3>
                    <p>الگوریتم: ${algoInfo.name}</p>
                    <p>عملیات: ${operation}</p>
                    <p>امنیت: ${algoInfo.strength}</p>
                </div>
                <div class="security-stat">
                    <h3>⚡ عملکرد</h3>
                    <p>سرعت: ${algoInfo.speed}</p>
                    <p>پایداری: ۹۸٪</p>
                    <p>دقت: ۱۰۰٪</p>
                </div>
                <div class="security-stat">
                    <h3>🎯 امنیت</h3>
                    <p>مقاومت: ${getBruteForceResistance(algorithm).split(' ')[0]}</p>
                    <p>کوانتومی: ${getQuantumResistance(algorithm)}</p>
                    <p>امتیاز: ۹۴/۱۰۰</p>
                </div>
            `;
        }

        // انیمیشن امنیتی
        function showSecurityAnimation() {
            const animation = document.getElementById('securityAnimation');
            animation.innerHTML = `
                <div class="lock"></div>
                <div class="lock"></div>
                <div class="lock"></div>
            `;
        }

        function hideSecurityAnimation() {
            const animation = document.getElementById('securityAnimation');
            animation.innerHTML = '';
        }

        // بررسی قدرت رمز عبور
        document.getElementById('encryptionKey').addEventListener('input', function() {
            const strengthBar = document.getElementById('passwordStrength');
            const password = this.value;
            let strength = 0;
            
            if (password.length >= 8) strength += 25;
            if (password.length >= 12) strength += 25;
            if (/[A-Z]/.test(password)) strength += 25;
            if (/[0-9]/.test(password) && /[^A-Za-z0-9]/.test(password)) strength += 25;
            
            strengthBar.className = 'strength-bar';
            if (strength >= 75) strengthBar.classList.add('strength-very-strong');
            else if (strength >= 50) strengthBar.classList.add('strength-strong');
            else if (strength >= 25) strengthBar.classList.add('strength-medium');
            else strengthBar.classList.add('strength-weak');
        });

        // ابزارهای کمکی
        function copySecurity() {
            showSecurityMessage('📋 خروجی امنیتی در کلیپ‌بورد کپی شد!');
        }

        function saveSecure() {
            showSecurityMessage('💾 داده‌ها با موفقیت در محیط امن ذخیره شدند!');
        }

        function clearTraces() {
            showSecurityAnimation();
            setTimeout(() => {
                showSecurityMessage('🧹 تمام ردپاهای دیجیتال با موفقیت پاک‌سازی شدند!');
                hideSecurityAnimation();
            }, 1500);
        }

        function resetSecurity() {
            document.getElementById('secretText').value = '';
            document.getElementById('encryptionKey').value = '';
            document.getElementById('securityOutput').innerHTML = `
                <div class="security-output">
                    <p>🔒 <strong>سیستم امنیتی Secret Guardian آماده به کار است!</strong></p>
                    <p>برای شروع، متن خود را وارد کرده و نوع عملیات امنیتی مورد نظر را انتخاب کنید.</p>
                </div>
            `;
            document.getElementById('securityStats').innerHTML = '';
            document.getElementById('passwordStrength').className = 'strength-bar';
            hideSecurityAnimation();
            showSecurityMessage('🌀 سیستم امنیتی بازنشانی شد!');
        }

        function showSecurityMessage(message) {
            const output = document.getElementById('output');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'security-output';
            messageDiv.innerHTML = message;
            output.appendChild(messageDiv);
            setTimeout(() => messageDiv.remove(), 3000);
        }

        // راه‌اندازی اولیه
        updateSecurityStats('aes256', 'encrypt');
        document.getElementById('encryptionKey').dispatchEvent(new Event('input'));
    </script>
</body>
  </html>
