<!DOCTYPE html>
<html dir="rtl" lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø´Ø·Ø±Ù†Ø¬ ØªØ¹Ø§Ù…Ù„ÛŒ | ØªØªØ±Ø§Ø´Ø§Ù¾</title>
    
    <!-- ÙÙˆÙ†Øª ÙØ§Ø±Ø³ÛŒ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vazirmatn@33.003/font.css">
    
    <!-- ØªØ¨Ù„ÛŒØºØ§Øª Ú¯ÙˆÚ¯Ù„ Ø§Ø¯Ø³Ù†Ø² (Ø¯Ø±Ø¢Ù…Ø¯Ø²Ø§ÛŒÛŒ) -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXX" crossorigin="anonymous"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Vazirmatn', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            padding: 30px 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h1 {
            color: #f8c555;
            font-size: 3rem;
            margin-bottom: 15px;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
        }
        
        .subtitle {
            color: #b8c2d8;
            font-size: 1.2rem;
            margin-bottom: 25px;
        }
        
        .premium-badge {
            display: inline-block;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #333;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: bold;
            margin: 10px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .game-area {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 992px) {
            .game-area {
                grid-template-columns: 1fr;
            }
        }
        
        .chess-board-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #2a3b5c;
        }
        
        .chess-board {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            aspect-ratio: 1/1;
            border: 12px solid #3a2c2c;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.8);
            position: relative;
            overflow: hidden;
        }
        
        .board-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            grid-template-rows: repeat(8, 1fr);
            width: 100%;
            height: 100%;
        }
        
        .board-square {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            cursor: pointer;
            transition: all 0.2s;
            user-select: none;
        }
        
        .board-square:hover {
            transform: scale(1.05);
            z-index: 1;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
        }
        
        .light-square {
            background-color: #eeeed2;
        }
        
        .dark-square {
            background-color: #769656;
        }
        
        .selected-square {
            background-color: rgba(255, 215, 0, 0.5) !important;
            box-shadow: inset 0 0 0 3px gold;
        }
        
        .possible-move {
            background-color: rgba(144, 238, 144, 0.5) !important;
            position: relative;
        }
        
        .possible-move::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 50%;
        }
        
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .game-controls {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .controls-title {
            color: #4fc3f7;
            margin-bottom: 20px;
            font-size: 1.3rem;
            border-bottom: 2px solid #4fc3f7;
            padding-bottom: 10px;
        }
        
        .btn {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 14px 24px;
            border-radius: 10px;
            font-family: 'Vazirmatn';
            font-size: 16px;
            cursor: pointer;
            margin: 8px 5px;
            transition: all 0.3s;
            width: calc(50% - 10px);
            display: inline-block;
            text-align: center;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(52, 152, 219, 0.4);
        }
        
        .btn-premium {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #333;
            font-weight: bold;
        }
        
        .btn-danger {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
        }
        
        .btn-success {
            background: linear-gradient(45deg, #2ecc71, #27ae60);
        }
        
        .game-info {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .info-label {
            color: #b8c2d8;
        }
        
        .info-value {
            color: white;
            font-weight: bold;
        }
        
        .turn-indicator {
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.2rem;
            margin: 15px 0;
            transition: all 0.3s;
        }
        
        .white-turn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid white;
        }
        
        .black-turn {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid black;
            color: #ccc;
        }
        
        .ad-container {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            padding: 20px;
            border: 1px dashed rgba(255, 255, 255, 0.2);
            text-align: center;
            margin-top: 20px;
        }
        
        .ad-label {
            color: #888;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        .ad-placeholder {
            height: 250px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 0.9rem;
        }
        
        .monetization-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            padding: 40px;
            margin-top: 50px;
            text-align: center;
        }
        
        .monetization-title {
            font-size: 2rem;
            margin-bottom: 25px;
            color: white;
        }
        
        .monetization-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .monetization-btn {
            background: white;
            color: #764ba2;
            padding: 18px 35px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.1rem;
            transition: all 0.3s;
        }
        
        .monetization-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 25px rgba(0, 0, 0, 0.2);
        }
        
        .back-btn {
            display: inline-block;
            background: linear-gradient(45deg, #9b59b6, #8e44ad);
            color: white;
            padding: 16px 40px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: bold;
            margin-top: 30px;
            transition: all 0.3s;
        }
        
        .back-btn:hover {
            background: linear-gradient(45deg, #8e44ad, #9b59b6);
            transform: translateY(-3px);
        }
        
        .piece-counts {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .piece-count {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        
        .piece-icon {
            font-size: 2rem;
            margin-bottom: 8px;
        }
        
        .piece-number {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .move-history {
            max-height: 200px;
            overflow-y: auto;
            margin-top: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        
        .move-item {
            padding: 8px 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-family: monospace;
        }
        
        .move-number {
            color: #888;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ù‡Ø¯Ø± ØµÙØ­Ù‡ -->
        <div class="header">
            <h1>â™” Ø´Ø·Ø±Ù†Ø¬ ØªØ¹Ø§Ù…Ù„ÛŒ ØªØªØ±Ø§Ø´Ø§Ù¾</h1>
            <p class="subtitle">Ø¨Ø§Ø²ÛŒ Ø´Ø·Ø±Ù†Ø¬ Ø¢Ù†Ù„Ø§ÛŒÙ† Ø¨Ø§ Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ùˆ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</p>
            
            <div class="premium-badge">
                âœ¨ Ù†Ø³Ø®Ù‡ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ: Ø§Ù…Ú©Ø§Ù† Ø°Ø®ÛŒØ±Ù‡ Ø¨Ø§Ø²ÛŒØŒ ØªØ­Ù„ÛŒÙ„ Ø­Ø±Ú©Ø§Øª Ùˆ Ø±Ù‚Ø§Ø¨Øª Ø¢Ù†Ù„Ø§ÛŒÙ†
            </div>
            
            <p style="color: #a3d5ff; margin-top: 15px;">
                Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ø§Ù…Ø±ÙˆØ²: Û±Û²Û´ | Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ú©Ù„: Û²,Û¸Û´Û· | Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„: Û¸
            </p>
        </div>
        
        <!-- Ù†Ø§Ø­ÛŒÙ‡ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ -->
        <div class="game-area">
            <!-- ØªØ®ØªÙ‡ Ø´Ø·Ø±Ù†Ø¬ -->
            <div class="chess-board-container">
                <h2 style="color: #4fc3f7; margin-bottom: 20px; text-align: center;">ØªØ®ØªÙ‡ Ø¨Ø§Ø²ÛŒ</h2>
                <div class="chess-board" id="chessBoard">
                    <!-- ØªØ®ØªÙ‡ Ø¨Ø§ Ø¬Ø§ÙˆØ§Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
                </div>
                
                <!-- Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ Ø²ÛŒØ± ØªØ®ØªÙ‡ -->
                <div style="margin-top: 30px; text-align: center;">
                    <button class="btn" onclick="startNewGame()">ğŸ”„ Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯</button>
                    <button class="btn" onclick="undoMove()">â†©ï¸ Ø¨Ø§Ø²Ú¯Ø´Øª Ø­Ø±Ú©Øª</button>
                    <button class="btn btn-success" onclick="saveGame()">ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ Ø¨Ø§Ø²ÛŒ</button>
                    <button class="btn btn-premium" onclick="showPremiumFeatures()">âœ¨ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù¾Ø±ÛŒÙ…ÛŒÙˆÙ…</button>
                </div>
            </div>
            
            <!-- Ù†ÙˆØ§Ø± Ú©Ù†Ø§Ø±ÛŒ -->
            <div class="sidebar">
                <!-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§Ø²ÛŒ -->
                <div class="game-info">
                    <h3 class="controls-title">ğŸ“Š Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§Ø²ÛŒ</h3>
                    
                    <div id="turnIndicator" class="turn-indicator white-turn">
                        Ù†ÙˆØ¨Øª: Ø³ÙÛŒØ¯
                    </div>
                    
                    <div class="info-item">
                        <span class="info-label">ÙˆØ¶Ø¹ÛŒØª:</span>
                        <span id="gameStatus" class="info-value">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø²ÛŒ</span>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-label">Ø­Ø±Ú©Øª:</span>
                        <span id="moveCount" class="info-value">Û°</span>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-label">Ø²Ù…Ø§Ù†:</span>
                        <span id="gameTime" class="info-value">Û°Û°:Û°Û°</span>
                    </div>
                    
                    <!-- Ø´Ù…Ø§Ø±Ø´ Ù…Ù‡Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ú¯Ø±ÙØªÙ‡ Ø´Ø¯Ù‡ -->
                    <h4 style="color: #4fc3f7; margin: 20px 0 15px 0;">Ù…Ù‡Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ú¯Ø±ÙØªÙ‡ Ø´Ø¯Ù‡</h4>
                    <div class="piece-counts">
                        <div class="piece-count">
                            <div class="piece-icon">â™™</div>
                            <div class="piece-number" id="whitePawns">Û°</div>
                            <div style="color: #aaa; font-size: 0.9rem;">Ø³ÙÛŒØ¯</div>
                        </div>
                        <div class="piece-count">
                            <div class="piece-icon">â™Ÿ</div>
                            <div class="piece-number" id="blackPawns">Û°</div>
                            <div style="color: #aaa; font-size: 0.9rem;">Ø³ÛŒØ§Ù‡</div>
                        </div>
                    </div>
                    
                    <!-- ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø­Ø±Ú©Ø§Øª -->
                    <h4 style="color: #4fc3f7; margin: 20px 0 15px 0;">ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø­Ø±Ú©Ø§Øª</h4>
                    <div class="move-history" id="moveHistory">
                        <div class="move-item">Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ</div>
                    </div>
                </div>
                
                <!-- Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ -->
                <div class="game-controls">
                    <h3 class="controls-title">ğŸ® Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ</h3>
                    
                    <div style="text-align: center;">
                        <button class="btn" onclick="offerDraw()">ğŸ¤ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ ØªØ³Ø§ÙˆÛŒ</button>
                        <button class="btn btn-danger" onclick="resignGame()">ğŸ³ï¸ ØªØ³Ù„ÛŒÙ…</button>
                        <button class="btn" onclick="switchSides()">ğŸ”„ ØªØ¹ÙˆÛŒØ¶ Ø·Ø±ÙÛŒÙ†</button>
                        <button class="btn" onclick="showHint()">ğŸ’¡ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ</button>
                        <button class="btn btn-premium" onclick="analyzeGame()">ğŸ” ØªØ­Ù„ÛŒÙ„ Ø¨Ø§Ø²ÛŒ (Ù¾Ø±ÛŒÙ…ÛŒÙˆÙ…)</button>
                    </div>
                </div>
                
                <!-- ØªØ¨Ù„ÛŒØºØ§Øª (Ø¯Ø±Ø¢Ù…Ø¯Ø²Ø§ÛŒÛŒ) -->
                <div class="ad-container">
                    <div class="ad-label">ØªØ¨Ù„ÛŒØºØ§Øª</div>
                    <div class="ad-placeholder" id="adPlaceholder">
                        ÙØ¶Ø§ÛŒ ØªØ¨Ù„ÛŒØºØ§ØªÛŒ
                        <br>
                        <small style="font-size: 0.8rem;">Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ØªØ¨Ù„ÛŒØºØ§Øª Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯</small>
                    </div>
                    <div style="margin-top: 15px; font-size: 0.8rem; color: #888;">
                        ØªØ¨Ù„ÛŒØºØ§Øª Ø¨Ù‡ Ù…Ø§ Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ø®Ø¯Ù…Ø§Øª Ø±Ø§ÛŒÚ¯Ø§Ù† Ø§Ø±Ø§Ø¦Ù‡ Ø¯Ù‡ÛŒÙ…
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Ø¨Ø®Ø´ Ø¯Ø±Ø¢Ù…Ø¯Ø²Ø§ÛŒÛŒ -->
        <div class="monetization-section">
            <h2 class="monetization-title">ğŸ’° Ø§Ø² Ø¹Ù„Ø§Ù‚Ù‡â€ŒØªØ§Ù† Ø¨Ù‡ Ø´Ø·Ø±Ù†Ø¬ Ø¯Ø±Ø¢Ù…Ø¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯!</h2>
            <p style="margin-bottom: 30px; font-size: 1.1rem; opacity: 0.9;">
                ØªØªØ±Ø§Ø´Ø§Ù¾ ØªÙ†Ù‡Ø§ Ù¾Ù„ØªÙØ±Ù… Ø´Ø·Ø±Ù†Ø¬ Ø§ÛŒØ±Ø§Ù†ÛŒ Ú©Ù‡ Ø¨Ù‡ Ø´Ù…Ø§ Ø§Ù…Ú©Ø§Ù† Ø¯Ø±Ø¢Ù…Ø¯Ø²Ø§ÛŒÛŒ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
            </p>
            
            <div class="monetization-buttons">
                <a href="/api/premium/pricing" class="monetization-btn">ğŸ‘‘ Ø®Ø±ÛŒØ¯ Ø§Ø´ØªØ±Ø§Ú© Ù¾Ø±ÛŒÙ…ÛŒÙˆÙ…</a>
                <a href="/api/ads" class="monetization-btn">ğŸ“¢ ØªØ¨Ù„ÛŒØº Ø¯Ø± Ù¾Ù„ØªÙØ±Ù…</a>
                <a href="/api/store" class="monetization-btn">ğŸ’» Ø®Ø±ÛŒØ¯ Ú©Ø¯ Ù…Ù†Ø¨Ø¹</a>
                <a href="/monetization" class="monetization-btn">ğŸš€ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¯Ø±Ø¢Ù…Ø¯Ø²Ø§ÛŒÛŒ</a>
            </div>
            
            <div style="margin-top: 40px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 25px;">
                <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px;">
                    <div style="font-size: 2rem;">Û²Û¹,Û°Û°Û°</div>
                    <div>ØªÙˆÙ…Ø§Ù† Ø¯Ø± Ù…Ø§Ù‡</div>
                    <div style="font-size: 0.9rem; opacity: 0.8;">Ø¹Ø¶ÙˆÛŒØª Ù¾Ø±ÛŒÙ…ÛŒÙˆÙ…</div>
                </div>
                <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px;">
                    <div style="font-size: 2rem;">Û±ÛµÛ°,Û°Û°Û°</div>
                    <div>ØªÙˆÙ…Ø§Ù† Ø¯Ø± Ù…Ø§Ù‡</div>
                    <div style="font-size: 0.9rem; opacity: 0.8;">ØªØ¨Ù„ÛŒØºØ§Øª</div>
                </div>
                <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px;">
                    <div style="font-size: 2rem;">Û´Û¹,Û°Û°Û°</div>
                    <div>ØªÙˆÙ…Ø§Ù† ÙØ±ÙˆØ´</div>
                    <div style="font-size: 0.9rem; opacity: 0.8;">Ú©Ø¯ Ù…Ù†Ø¨Ø¹ Ø´Ø·Ø±Ù†Ø¬</div>
                </div>
                <div style="background: rgba(255,255,255,0.15); padding: 20px; border-radius: 15px;">
                    <div style="font-size: 2rem;">Û²Û²Û¸,Û°Û°Û°</div>
                    <div>ØªÙˆÙ…Ø§Ù† Ù…Ø¬Ù…ÙˆØ¹</div>
                    <div style="font-size: 0.9rem; opacity: 0.8;">Ø¯Ø±Ø¢Ù…Ø¯ Ù…Ø§Ù‡Ø§Ù†Ù‡</div>
                </div>
            </div>
        </div>
        
        <!-- Ø¯Ú©Ù…Ù‡ Ø¨Ø§Ø²Ú¯Ø´Øª -->
        <div style="text-align: center; margin-top: 40px;">
            <a href="/" class="back-btn">ğŸ  Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ ØªØªØ±Ø§Ø´Ø§Ù¾</a>
        </div>
    </div>
    
    <!-- Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø¨Ø§Ø²ÛŒ -->
    <script>
        // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ
        let boardState = [];
        let currentPlayer = 'white';
        let selectedSquare = null;
        let moveCount = 0;
        let gameTime = 0;
        let timerInterval = null;
        let moveHistory = [];
        let capturedPieces = { white: 0, black: 0 };
        
        // Ù…Ù‡Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ø´Ø·Ø±Ù†Ø¬
        const pieces = {
            // Ø³ÙÛŒØ¯
            'white': {
                'rook': 'â™–', 'knight': 'â™˜', 'bishop': 'â™—',
                'queen': 'â™•', 'king': 'â™”', 'pawn': 'â™™'
            },
            // Ø³ÛŒØ§Ù‡
            'black': {
                'rook': 'â™œ', 'knight': 'â™', 'bishop': 'â™',
                'queen': 'â™›', 'king': 'â™š', 'pawn': 'â™Ÿ'
            }
        };
        
        // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ ØªØ®ØªÙ‡
        function initBoard() {
            boardState = [];
            
            // Ø§ÛŒØ¬Ø§Ø¯ ØªØ®ØªÙ‡ 8x8
            for(let row = 0; row < 8; row++) {
                boardState[row] = [];
                for(let col = 0; col < 8; col++) {
                    let piece = null;
                    let color = null;
                    
                    // Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù† Ù…Ù‡Ø±Ù‡â€ŒÙ‡Ø§ Ø¯Ø± Ù…ÙˆÙ‚Ø¹ÛŒØª Ø§ÙˆÙ„ÛŒÙ‡
                    if(row === 0) {
                        color = 'black';
                        if(col === 0 || col === 7) piece = pieces.black.rook;
                        else if(col === 1 || col === 6) piece = pieces.black.knight;
                        else if(col === 2 || col === 5) piece = pieces.black.bishop;
                        else if(col === 3) piece = pieces.black.queen;
                        else if(col === 4) piece = pieces.black.king;
                    }
                    else if(row === 1) {
                        color = 'black';
                        piece = pieces.black.pawn;
                    }
                    else if(row === 6) {
                        color = 'white';
                        piece = pieces.white.pawn;
                    }
                    else if(row === 7) {
                        color = 'white';
                        if(col === 0 || col === 7) piece = pieces.white.rook;
                        else if(col === 1 || col === 6) piece = pieces.white.knight;
                        else if(col === 2 || col === 5) piece = pieces.white.bishop;
                        else if(col === 3) piece = pieces.white.queen;
                        else if(col === 4) piece = pieces.white.king;
                    }
                    
                    boardState[row][col] = {
                        piece: piece,
                        color: color,
                        row: row,
                        col: col
                    };
                }
            }
            
            renderBoard();
            updateGameInfo();
            startTimer();
        }
        
        // Ø±Ù†Ø¯Ø± ØªØ®ØªÙ‡
        function renderBoard() {
            const board = document.getElementById('chessBoard');
            let boardHTML = '<div class="board-grid">';
            
            for(let row = 0; row < 8; row++) {
                for(let col = 0; col < 8; col++) {
                    const square = boardState[row][col];
                    const isDark = (row + col) % 2 === 0;
                    const squareClass = `board-square ${isDark ? 'dark-square' : 'light-square'}`;
                    const isSelected = selectedSquare && selectedSquare.row === row && selectedSquare.col === col;
                    
                    boardHTML += '<div class="' + squareClass + (isSelected ? ' selected-square' : '') + 
                                '" data-row="' + row + '" data-col="' + col + 
                                '" onclick="handleSquareClick(' + row + ', ' + col + ')">' + 
                                (square.piece || '') + '</div>';
                }
            }
            
            boardHTML += '</div>';
            board.innerHTML = boardHTML;
        }
        
        // Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø®Ø§Ù†Ù‡
        function handleSquareClick(row, col) {
            const square = boardState[row][col];
            
            // Ø§Ú¯Ø± Ø®Ø§Ù†Ù‡â€ŒØ§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø¨ÙˆØ¯
            if(selectedSquare) {
                // Ø§Ú¯Ø± Ø±ÙˆÛŒ Ù‡Ù…Ø§Ù† Ø®Ø§Ù†Ù‡ Ú©Ù„ÛŒÚ© Ú©Ø±Ø¯ØŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø±Ø§ Ù„ØºÙˆ Ú©Ù†
                if(selectedSquare.row === row && selectedSquare.col === col) {
                    selectedSquare = null;
                    renderBoard();
                    return;
                }
                
                // Ø§Ù†Ø¬Ø§Ù… Ø­Ø±Ú©Øª
                makeMove(selectedSquare.row, selectedSquare.col, row, col);
                selectedSquare = null;
            }
            // Ø§Ú¯Ø± Ø®Ø§Ù†Ù‡â€ŒØ§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡ Ø¨ÙˆØ¯ Ùˆ Ø®Ø§Ù†Ù‡ Ø¯Ø§Ø±Ø§ÛŒ Ù…Ù‡Ø±Ù‡ Ø§Ø³Øª
            else if(square.piece && square.color === currentPlayer) {
                selectedSquare = { row: row, col: col, piece: square.piece, color: square.color };
                renderBoard();
                
                // Ù†Ù…Ø§ÛŒØ´ Ø­Ø±Ú©Ø§Øª Ù…Ù…Ú©Ù† (Ø³Ø§Ø¯Ù‡)
                showPossibleMoves(row, col);
            }
            
            renderBoard();
        }
        
        // Ù†Ù…Ø§ÛŒØ´ Ø­Ø±Ú©Ø§Øª Ù…Ù…Ú©Ù†
        function showPossibleMoves(row, col) {
            // Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù¾ÛŒÚ†ÛŒØ¯Ù‡ Ø´ÙˆØ¯. Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø¯Ú¯ÛŒØŒ Ø­Ø±Ú©Ø§Øª Ù¾Ø§ÛŒÙ‡ Ù¾ÛŒØ§Ø¯Ù‡ Ø±Ø§ Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡ÛŒÙ…
            const piece = boardState[row][col].piece;
            
            if(piece === pieces.white.pawn || piece === pieces.black.pawn) {
                const direction = boardState[row][col].color === 'white' ? -1 : 1;
                
                // Ø­Ø±Ú©Øª Ø±Ùˆ Ø¨Ù‡ Ø¬Ù„Ùˆ
                const newRow = row + direction;
                if(newRow >= 0 && newRow < 8 && !boardState[newRow][col].piece) {
                    const selector = '[data-row="' + newRow + '"][data-col="' + col + '"]';
                    document.querySelector(selector).classList.add('possible-move');
                }
                
                // Ø­Ø±Ú©Øª Ø§Ø±ÛŒØ¨ Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ†
                if(col > 0) {
                    const diagRow = row + direction;
                    const diagCol = col - 1;
                    if(diagRow >= 0 && diagRow < 8 && boardState[diagRow][diagCol].piece && 
                       boardState[diagRow][diagCol].color !== boardState[row][col].color) {
                        const selector = '[data-row="' + diagRow + '"][data-col="' + diagCol + '"]';
                        document.querySelector(selector).classList.add('possible-move');
                    }
                }
                
                if(col < 7) {
                    const diagRow = row + direction;
                    const diagCol = col + 1;
                    if(diagRow >= 0 && diagRow < 8 && boardState[diagRow][diagCol].piece && 
                       boardState[diagRow][diagCol].color !== boardState[row][col].color) {
                        const selector = '[data-row="' + diagRow + '"][data-col="' + diagCol + '"]';
                        document.querySelector(selector).classList.add('possible-move');
                    }
                }
            }
        }
        
        // Ø§Ù†Ø¬Ø§Ù… Ø­Ø±Ú©Øª
        function makeMove(fromRow, fromCol, toRow, toCol) {
            const fromSquare = boardState[fromRow][fromCol];
            const toSquare = boardState[toRow][toCol];
            
            // Ø§Ú¯Ø± Ù…Ù‡Ø±Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯
            if(toSquare.piece) {
                capturedPieces[toSquare.color]++;
                updateCapturedPieces();
                
                // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ ØªØ§Ø±ÛŒØ®Ú†Ù‡
                moveHistory.push({
                    move: moveCount + 1,
                    from: String.fromCharCode(97 + fromCol) + (8 - fromRow),
                    to: String.fromCharCode(97 + toCol) + (8 - toRow),
                    piece: fromSquare.piece,
                    captured: toSquare.piece
                });
            } else {
                moveHistory.push({
                    move: moveCount + 1,
                    from: String.fromCharCode(97 + fromCol) + (8 - fromRow),
                    to: String.fromCharCode(97 + toCol) + (8 - toRow),
                    piece: fromSquare.piece
                });
            }
            
            // Ø§Ù†Ø¬Ø§Ù… Ø­Ø±Ú©Øª
            boardState[toRow][toCol] = {
                piece: fromSquare.piece,
                color: fromSquare.color,
                row: toRow,
                col: toCol
            };
            
            boardState[fromRow][fromCol] = {
                piece: null,
                color: null,
                row: fromRow,
                col: fromCol
            };
            
            // Ø§ÙØ²Ø§ÛŒØ´ Ø´Ù…Ø§Ø±Ù†Ø¯Ù‡ Ø­Ø±Ú©Øª
            moveCount++;
            
            // ØªØ¹ÙˆÛŒØ¶ Ù†ÙˆØ¨Øª
            currentPlayer = currentPlayer === 'white' ? 'black' : 'white';
            
            // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª
            updateGameInfo();
            updateMoveHistory();
            
            // Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ (Ø³Ø§Ø¯Ù‡)
            checkGameEnd();
        }
        
        // Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯
        function startNewGame() {
            if(confirm('Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯ØŸ Ù¾ÛŒØ´Ø±ÙØª Ø¨Ø§Ø²ÛŒ ÙØ¹Ù„ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ù†Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.')) {
                initBoard();
                moveHistory = [];
                capturedPieces = { white: 0, black: 0 };
                moveCount = 0;
                gameTime = 0;
                currentPlayer = 'white';
                
                if(timerInterval) clearInterval(timerInterval);
                startTimer();
                
                document.getElementById('gameStatus').textContent = 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø²ÛŒ';
                updateGameInfo();
                updateMoveHistory();
                updateCapturedPieces();
            }
        }
        
        // Ø¨Ø§Ø²Ú¯Ø´Øª Ø­Ø±Ú©Øª
        function undoMove() {
            if(moveHistory.length === 0) {
                alert('Ø­Ø±Ú©ØªÛŒ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²Ú¯Ø´Øª ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯');
                return;
            }
            
            alert('Ù‚Ø§Ø¨Ù„ÛŒØª Ø¨Ø§Ø²Ú¯Ø´Øª Ø­Ø±Ú©Øª Ø¯Ø± Ù†Ø³Ø®Ù‡ Ù¾Ø±ÛŒÙ…ÛŒÙˆÙ… ÙØ¹Ø§Ù„ Ø§Ø³Øª!');
        }
        
        // Ø°Ø®ÛŒØ±Ù‡ Ø¨Ø§Ø²ÛŒ
        function saveGame() {
            const gameData = {
                board: boardState,
                currentPlayer: currentPlayer,
                moveCount: moveCount,
                time: gameTime,
                history: moveHistory,
                captured: capturedPieces
            };
            
            localStorage.setItem('chessLastGame', JSON.stringify(gameData));
            alert('Ø¨Ø§Ø²ÛŒ Ø¯Ø± Ø­Ø§ÙØ¸Ù‡ Ù…Ø±ÙˆØ±Ú¯Ø± Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯!');
            
            // Ù†Ù…Ø§ÛŒØ´ Ø¯Ø±Ø¢Ù…Ø¯Ø²Ø§ÛŒÛŒ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø°Ø®ÛŒØ±Ù‡
            document.getElementById('adPlaceholder').innerHTML = 'Ø¨Ø§Ø²ÛŒ Ø´Ù…Ø§ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯!<br><small style="color: #4CAF50; font-size: 0.9rem;">Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø§Ø¨Ø±ÛŒ Ùˆ Ø¯Ø³ØªØ±Ø³ÛŒ Ø§Ø² Ù‡Ù…Ù‡ Ø¯Ø³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§ Ù†Ø³Ø®Ù‡ Ù¾Ø±ÛŒÙ…ÛŒÙˆÙ… Ø±Ø§ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯</small>';
        }
        
        // Ø´Ø±ÙˆØ¹ ØªØ§ÛŒÙ…Ø±
        function startTimer() {
            if(timerInterval) clearInterval(timerInterval);
            
            timerInterval = setInterval(() => {
                gameTime++;
                updateGameInfo();
            }, 1000);
        }
        
        // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§Ø²ÛŒ
        function updateGameInfo() {
            // Ù†ÙˆØ¨Øª
            const turnIndicator = document.getElementById('turnIndicator');
            if(currentPlayer === 'white') {
                turnIndicator.className = 'turn-indicator white-turn';
                turnIndicator.innerHTML = 'Ù†ÙˆØ¨Øª: <strong>Ø³ÙÛŒØ¯</strong> (Ø´Ù…Ø§)';
            } else {
                turnIndicator.className = 'turn-indicator black-turn';
                turnIndicator.innerHTML = 'Ù†ÙˆØ¨Øª: <strong>Ø³ÛŒØ§Ù‡</strong> (Ø­Ø±ÛŒÙ)';
            }
            
            // Ø´Ù…Ø§Ø±Ù†Ø¯Ù‡ Ø­Ø±Ú©Øª
            document.getElementById('moveCount').textContent = moveCount;
            
            // Ø²Ù…Ø§Ù†
            const minutes = Math.floor(gameTime / 60).toString().padStart(2, '0');
            const seconds = (gameTime % 60).toString().padStart(2, '0');
            document.getElementById('gameTime').textContent = minutes + ':' + seconds;
            
            // ÙˆØ¶Ø¹ÛŒØª
            if(moveCount === 0) {
                document.getElementById('gameStatus').textContent = 'Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ';
            } else {
                document.getElementById('gameStatus').textContent = 'Ø­Ø±Ú©Øª ' + moveCount;
            }
        }
        
        // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø­Ø±Ú©Ø§Øª
        function updateMoveHistory() {
            const historyElement = document.getElementById('moveHistory');
            historyElement.innerHTML = '';
            
            moveHistory.forEach(move => {
                const moveElement = document.createElement('div');
                moveElement.className = 'move-item';
                
                let moveText = move.move + '. ' + move.piece + ': ' + move.from + ' â†’ ' + move.to;
                if(move.captured) {
                    moveText += ' (Ú¯Ø±ÙØªÙ† ' + move.captured + ')';
                }
                
                moveElement.textContent = moveText;
                historyElement.appendChild(moveElement);
            });
            
            // Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ù‡ Ù¾Ø§ÛŒÛŒÙ†
            historyElement.scrollTop = historyElement.scrollHeight;
        }
        
        // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ù‡Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ú¯Ø±ÙØªÙ‡ Ø´Ø¯Ù‡
        function updateCapturedPieces() {
            document.getElementById('whitePawns').textContent = capturedPieces.black;
            document.getElementById('blackPawns').textContent = capturedPieces.white;
        }
        
        // Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ
        function checkGameEnd() {
            // Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù¾ÛŒÚ†ÛŒØ¯Ù‡ Ø¨Ø§Ø´Ø¯. Ø¨Ø±Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡ØŒ ÛŒÚ© Ø¨Ø±Ø±Ø³ÛŒ Ø³Ø§Ø¯Ù‡
            let whiteKing = false;
            let blackKing = false;
            
            for(let row = 0; row < 8; row++) {
                for(let col = 0; col < 8; col++) {
                    if(boardState[row][col].piece === pieces.white.king) whiteKing = true;
                    if(boardState[row][col].piece === pieces.black.king) blackKing = true;
                }
            }
            
            if(!whiteKing) {
                document.getElementById('gameStatus').textContent = 'Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ! Ø³ÛŒØ§Ù‡ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯!';
                clearInterval(timerInterval);
                showWinMessage('Ø³ÛŒØ§Ù‡');
            }
            
            if(!blackKing) {
                document.getElementById('gameStatus').textContent = 'Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ! Ø³ÙÛŒØ¯ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯!';
                clearInterval(timerInterval);
                showWinMessage('Ø³ÙÛŒØ¯');
            }
        }
        
        // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù… Ø¨Ø±Ù†Ø¯Ù‡
        function showWinMessage(winner) {
            setTimeout(() => {
                alert('ğŸ† ' + winner + ' Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯! Ø¨Ø§Ø²ÛŒ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯.');
                
                // Ù†Ù…Ø§ÛŒØ´ ØªØ¨Ù„ÛŒØº Ø¯Ø±Ø¢Ù…Ø¯Ø²Ø§ÛŒÛŒ Ù¾Ø³ Ø§Ø² Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ
                document.getElementById('adPlaceholder').innerHTML = 'ØªØ¨Ø±ÛŒÚ©! Ø¨Ø§Ø²ÛŒ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯.<br><small style="color: #FFD700; font-size: 0.9rem;">Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ø¨Ø§ Ø­Ø±ÛŒÙØ§Ù† ÙˆØ§Ù‚Ø¹ÛŒØŒ Ù†Ø³Ø®Ù‡ Ù¾Ø±ÛŒÙ…ÛŒÙˆÙ… Ø±Ø§ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯!</small>';
            }, 500);
        }
        
        // Ø¹Ù…Ù„Ú©Ø±Ø¯Ù‡Ø§ÛŒ Ù¾Ø±ÛŒÙ…ÛŒÙˆÙ…
        function showPremiumFeatures() {
            alert('ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù¾Ø±ÛŒÙ…ÛŒÙˆÙ…:\n\nâ€¢ Ø¨Ø§Ø²ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ø¨Ø§ Ø¯ÛŒÚ¯Ø± Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†\nâ€¢ ØªØ­Ù„ÛŒÙ„ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ\nâ€¢ Ø¢Ù…ÙˆØ²Ø´â€ŒÙ‡Ø§ÛŒ ÙˆÛŒØ¯ÛŒÙˆÛŒÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡\nâ€¢ Ø°Ø®ÛŒØ±Ù‡ Ø§Ø¨Ø±ÛŒ Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯\nâ€¢ Ø­Ø°Ù ØªØ¨Ù„ÛŒØºØ§Øª\nâ€¢ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Û²Û´ Ø³Ø§Ø¹ØªÙ‡\n\nÙ‚ÛŒÙ…Øª: Û²Û¹,Û°Û°Û° ØªÙˆÙ…Ø§Ù† Ø¯Ø± Ù…Ø§Ù‡');
            
            // Ù‡Ø¯Ø§ÛŒØª Ø¨Ù‡ ØµÙØ­Ù‡ Ø®Ø±ÛŒØ¯
            window.open('/api/premium/pricing', '_blank');
        }
        
        function offerDraw() {
            alert('Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ ØªØ³Ø§ÙˆÛŒ Ø¨Ø±Ø§ÛŒ Ø­Ø±ÛŒÙ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯!\n\n(Ø¯Ø± Ù†Ø³Ø®Ù‡ Ú©Ø§Ù…Ù„ØŒ Ø§ÛŒÙ† Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø±Ø§ÛŒ Ø­Ø±ÛŒÙ ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯)');
        }
        
        function resignGame() {
            if(confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ ØªØ³Ù„ÛŒÙ… Ø´ÙˆÛŒØ¯ØŸ')) {
                document.getElementById('gameStatus').textContent = 'Ø¨Ø§Ø²ÛŒ ØªØ³Ù„ÛŒÙ… Ø´Ø¯';
                clearInterval(timerInterval);
                
                const winner = currentPlayer === 'white' ? 'Ø³ÛŒØ§Ù‡' : 'Ø³ÙÛŒØ¯';
                alert('Ø´Ù…Ø§ ØªØ³Ù„ÛŒÙ… Ø´Ø¯ÛŒØ¯. ' + winner + ' Ø¨Ø±Ù†Ø¯Ù‡ Ø¨Ø§Ø²ÛŒ Ø§Ø³Øª.');
            }
        }
        
        function switchSides() {
            alert('ØªØ¹ÙˆÛŒØ¶ Ø·Ø±ÙÛŒÙ† Ø¯Ø± Ù†Ø³Ø®Ù‡ Ù¾Ø±ÛŒÙ…ÛŒÙˆÙ… ÙØ¹Ø§Ù„ Ø§Ø³Øª!');
        }
        
        function showHint() {
            const hints = [
                'Ø³Ø¹ÛŒ Ú©Ù†ÛŒØ¯ Ù…Ø±Ú©Ø² ØªØ®ØªÙ‡ Ø±Ø§ Ú©Ù†ØªØ±Ù„ Ú©Ù†ÛŒØ¯',
                'Ù…Ù‡Ø±Ù‡â€ŒÙ‡Ø§ÛŒØªØ§Ù† Ø±Ø§ Ø¯Ø± Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ ØªÙˆØ³Ø¹Ù‡ Ø¯Ù‡ÛŒØ¯',
                'Ù¾Ø§Ø¯Ø´Ø§Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø§ Ù‚Ù„Ø¹Ù‡â€ŒØ±ÙØªÙ† Ø§ÛŒÙ…Ù† Ú©Ù†ÛŒØ¯',
                'Ù‚Ø¨Ù„ Ø§Ø² Ø­Ø±Ú©ØªØŒ ØªÙ…Ø§Ù… ØªÙ‡Ø¯ÛŒØ¯Ø§Øª Ø­Ø±ÛŒÙ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯'
            ];
            
            alert('ğŸ’¡ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ: ' + hints[Math.floor(Math.random() * hints.length)]);
        }
        
        function analyzeGame() {
            alert('ØªØ­Ù„ÛŒÙ„ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¨Ø§Ø²ÛŒ Ø¯Ø± Ù†Ø³Ø®Ù‡ Ù¾Ø±ÛŒÙ…ÛŒÙˆÙ… ÙØ¹Ø§Ù„ Ø§Ø³Øª!\n\nØªØ­Ù„ÛŒÙ„Ú¯Ø± Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯:\nâ€¢ Ø¨Ù‡ØªØ±ÛŒÙ† Ø­Ø±Ú©Ø§Øª Ø¨Ø¹Ø¯ÛŒ Ø±Ø§ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø¯Ù‡Ø¯\nâ€¢ Ø§Ø´ØªØ¨Ø§Ù‡Ø§Øª Ø¨Ø§Ø²ÛŒ Ø±Ø§ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ú©Ù†Ø¯\nâ€¢ Ø§Ù…ØªÛŒØ§Ø² Ù…ÙˆÙ‚Ø¹ÛŒØª ÙØ¹Ù„ÛŒ Ø±Ø§ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ú©Ù†Ø¯');
            
            // Ù†Ù…Ø§ÛŒØ´ ØªØ¨Ù„ÛŒØº Ø§Ø±ØªÙ‚Ø§
            document.getElementById('adPlaceholder').innerHTML = 'Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø¨Ø§Ø²ÛŒ:<br><button onclick="showPremiumFeatures()" style="background: #FFD700; color: #333; border: none; padding: 10px 20px; border-radius: 5px; margin-top: 10px; cursor: pointer;">Ø®Ø±ÛŒØ¯ Ø§Ø´ØªØ±Ø§Ú© Ù¾Ø±ÛŒÙ…ÛŒÙˆÙ…</button>';
        }
        
        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¨Ø§Ø²ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡
        function loadSavedGame() {
            const savedGame = localStorage.getItem('chessLastGame');
            if(savedGame) {
                if(confirm('ÛŒÚ© Ø¨Ø§Ø²ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡ Ù¾ÛŒØ¯Ø§ Ø´Ø¯. Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¢Ù† Ø±Ø§ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯ØŸ')) {
                    const gameData = JSON.parse(savedGame);
                    
                    // ØªÙˆØ¬Ù‡: Ø§ÛŒÙ† ÛŒÚ© Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³Ø§Ø¯Ù‡ Ø§Ø³Øª. Ø¯Ø± Ù†Ø³Ø®Ù‡ Ú©Ø§Ù…Ù„ Ù¾ÛŒÚ†ÛŒØ¯Ù‡â€ŒØªØ± Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯
                    alert('Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¨Ø§Ø²ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡ Ø¯Ø± Ù†Ø³Ø®Ù‡ Ù¾Ø±ÛŒÙ…ÛŒÙˆÙ… ÙØ¹Ø§Ù„ Ø§Ø³Øª!');
                }
            }
        }
        
        // Ù…Ø¯ÛŒØ±ÛŒØª ØªØ¨Ù„ÛŒØºØ§Øª
        document.getElementById('adPlaceholder').addEventListener('click', function() {
            alert('Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø¨Ø± Ø±ÙˆÛŒ ØªØ¨Ù„ÛŒØºØ§ØªØŒ Ø§Ø² ØªÙˆØ³Ø¹Ù‡ Ø§ÛŒÙ† Ù¾Ù„ØªÙØ±Ù… Ø­Ù…Ø§ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯!\n\nÙ…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø¯Ø±Ø¢Ù…Ø¯ Ø§Ø² Ù‡Ø± Ú©Ù„ÛŒÚ©: ÛµÛ°Û° ØªÙˆÙ…Ø§Ù†\n\nØ¨Ø±Ø§ÛŒ Ø­Ø°Ù ØªØ¨Ù„ÛŒØºØ§ØªØŒ Ø§Ø´ØªØ±Ø§Ú© Ù¾Ø±ÛŒÙ…ÛŒÙˆÙ… Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯.');
            
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù„ÛŒÚ© ØªØ¨Ù„ÛŒØºØ§ØªÛŒ
            this.innerHTML = 'Ø§Ø² Ø­Ù…Ø§ÛŒØª Ø´Ù…Ø§ Ù…ØªØ´Ú©Ø±ÛŒÙ…!<br><small style="color: #4CAF50; font-size: 0.9rem;">ÛµÛ°Û° ØªÙˆÙ…Ø§Ù† Ø¨Ù‡ Ø¯Ø±Ø¢Ù…Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯</small><br><small style="font-size: 0.8rem; color: #888;">ØªØ¨Ù„ÛŒØº Ø¨Ø¹Ø¯ÛŒ Ø¯Ø± Û³Û° Ø«Ø§Ù†ÛŒÙ‡</small>';
            
            // Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ ØªØ¨Ù„ÛŒØº Ø¨Ø¹Ø¯ Ø§Ø² Û³Û° Ø«Ø§Ù†ÛŒÙ‡
            setTimeout(() => {
                this.innerHTML = 'ÙØ¶Ø§ÛŒ ØªØ¨Ù„ÛŒØºØ§ØªÛŒ<br><small style="font-size: 0.8rem;">Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ØªØ¨Ù„ÛŒØºØ§Øª Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯</small>';
            }, 30000);
        });
        
        // Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ Ù‡Ù†Ú¯Ø§Ù… Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØµÙØ­Ù‡
        window.onload = function() {
            initBoard();
            loadSavedGame();
            
            // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù… Ø®ÙˆØ´â€ŒØ¢Ù…Ø¯Ú¯ÙˆÛŒÛŒ Ø¨Ø§ ØªØ£Ú©ÛŒØ¯ Ø¨Ø± Ø¯Ø±Ø¢Ù…Ø¯Ø²Ø§ÛŒÛŒ
            setTimeout(() => {
                document.getElementById('adPlaceholder').innerHTML = 'Ø¨Ù‡ Ø´Ø·Ø±Ù†Ø¬ ØªØªØ±Ø§Ø´Ø§Ù¾ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!<br><small style="color: #FFD700; font-size: 0.9rem;">Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ù…Ø§Ù‡Ø§Ù†Ù‡ Û²Û²Û¸,Û°Û°Û° ØªÙˆÙ…Ø§Ù† Ø¯Ø±Ø¢Ù…Ø¯ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯</small><br><button onclick="showPremiumFeatures()" style="background: #4CAF50; color: white; border: none; padding: 8px 16px; border-radius: 5px; margin-top: 10px; cursor: pointer;">ÛŒØ§Ø¯ Ø¨Ú¯ÛŒØ±ÛŒØ¯ Ú†Ú¯ÙˆÙ†Ù‡</button>';
            }, 2000);
        };
    </script>
</body>
</html>
