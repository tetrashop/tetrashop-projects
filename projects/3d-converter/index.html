<!DOCTYPE html>
<html dir="rtl" lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ¨Ø¯ÛŒÙ„ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ - TetraShop</title>
    <style>
        :root {
            --3d-blue: #0ea5e9;
            --3d-purple: #8b5cf6;
            --3d-cyan: #06b6d4;
            --3d-dark: #0f172a;
            --3d-light: #f8fafc;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Vazirmatn', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--3d-dark) 0%, #1e293b 100%);
            color: var(--3d-light);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            padding: 40px 20px;
            background: rgba(14, 165, 233, 0.1);
            border-radius: 20px;
            margin-bottom: 40px;
            border: 2px solid rgba(14, 165, 233, 0.3);
        }
        
        h1 {
            font-size: 2.8rem;
            background: linear-gradient(90deg, var(--3d-blue), var(--3d-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
        }
        
        .converter-dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 1000px) {
            .converter-dashboard {
                grid-template-columns: 1fr;
            }
        }
        
        .upload-section, .preview-section {
            background: rgba(30, 41, 59, 0.6);
            border-radius: 15px;
            padding: 30px;
            border: 2px solid rgba(148, 163, 184, 0.1);
        }
        
        .section-title {
            color: var(--3d-cyan);
            font-size: 1.4rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .upload-area {
            border: 3px dashed var(--3d-blue);
            border-radius: 10px;
            padding: 50px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 30px;
        }
        
        .upload-area:hover {
            background: rgba(14, 165, 233, 0.1);
            border-color: var(--3d-cyan);
        }
        
        .format-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        
        .format-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .format-card:hover {
            background: rgba(14, 165, 233, 0.1);
            transform: translateY(-5px);
        }
        
        .format-card.selected {
            background: rgba(14, 165, 233, 0.2);
            border: 2px solid var(--3d-blue);
        }
        
        .converter-controls {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .converter-btn {
            padding: 15px 25px;
            background: linear-gradient(45deg, var(--3d-blue), var(--3d-purple));
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }
        
        .converter-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(14, 165, 233, 0.4);
        }
        
        .converter-btn.green {
            background: linear-gradient(45deg, #10b981, var(--3d-blue));
        }
        
        .preview-area {
            width: 100%;
            height: 300px;
            background: rgba(15, 23, 42, 0.8);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .file-info {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .converter-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 25px;
        }
        
        .converter-stat {
            text-align: center;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--3d-blue);
        }
        
        .back-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            z-index: 1000;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: var(--3d-cyan);
        }
        
        .loading::after {
            content: '';
            animation: rotate 2s linear infinite;
        }
        
        @keyframes rotate {
            0% { content: 'â—'; }
            25% { content: 'â—“'; }
            50% { content: 'â—‘'; }
            75% { content: 'â—’'; }
            100% { content: 'â—'; }
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
            display: none;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--3d-blue), var(--3d-purple));
            width: 0%;
            transition: width 0.3s;
        }
        
        #model-preview {
            font-size: 5rem;
            color: var(--3d-blue);
        }
    </style>
</head>
<body>
    <a href="/" class="back-btn">ğŸ  Ø¨Ø§Ø²Ú¯Ø´Øª</a>
    
    <div class="container">
        <div class="header">
            <h1>ğŸ”„ ØªØ¨Ø¯ÛŒÙ„ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ</h1>
            <p>Ø³ÛŒØ³ØªÙ… Ù¾ÛŒØ´Ø±ÙØªÙ‡ ØªØ¨Ø¯ÛŒÙ„ Ø¨ÛŒÙ† ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ - Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² ÛµÛ°+ ÙØ±Ù…Øª</p>
        </div>
        
        <div class="converter-dashboard">
            <div class="upload-section">
                <h3 class="section-title">
                    <span>ğŸ“¤</span> Ø¢Ù¾Ù„ÙˆØ¯ Ùˆ ØªÙ†Ø¸ÛŒÙ…Ø§Øª
                </h3>
                
                <div class="upload-area" onclick="document.getElementById('file-input').click()">
                    <div style="font-size: 4rem; margin-bottom: 20px;">ğŸ“</div>
                    <h3>ÙØ§ÛŒÙ„ Û³D Ø®ÙˆØ¯ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø±Ù‡Ø§ Ú©Ù†ÛŒØ¯</h3>
                    <p style="color: #94a3b8; margin-top: 10px;">
                        ÛŒØ§ Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ ÙØ§ÛŒÙ„ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯
                    </p>
                    <p style="font-size: 0.9rem; margin-top: 5px;">
                        Ø­Ø¯Ø§Ú©Ø«Ø± Ø­Ø¬Ù…: ÛµÛ°Û° Ù…Ú¯Ø§Ø¨Ø§ÛŒØª
                    </p>
                </div>
                
                <input type="file" id="file-input" accept=".obj,.stl,.fbx,.dae,.3ds,.ply,.gltf,.glb,.max,.blend,.ma,.mb,.step,.iges" style="display: none;">
                
                <div id="file-details" class="file-info" style="display: none;">
                    <h4>ğŸ“„ Ø¬Ø²Ø¦ÛŒØ§Øª ÙØ§ÛŒÙ„:</h4>
                    <div id="file-detail-content"></div>
                </div>
                
                <div style="margin-top: 30px;">
                    <h4 style="color: var(--3d-cyan); margin-bottom: 15px;">ğŸ¯ ÙØ±Ù…Øª Ø®Ø±ÙˆØ¬ÛŒ:</h4>
                    <div class="format-selector">
                        <div class="format-card" onclick="selectFormat('obj')">
                            <div style="font-size: 2rem;">ğŸ“¦</div>
                            <div>OBJ</div>
                            <small>Wavefront</small>
                        </div>
                        <div class="format-card" onclick="selectFormat('stl')">
                            <div style="font-size: 2rem;">ğŸ”º</div>
                            <div>STL</div>
                            <small>Ú†Ø§Ù¾ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ</small>
                        </div>
                        <div class="format-card" onclick="selectFormat('fbx')">
                            <div style="font-size: 2rem;">ğŸ®</div>
                            <div>FBX</div>
                            <small>Autodesk</small>
                        </div>
                        <div class="format-card" onclick="selectFormat('gltf')">
                            <div style="font-size: 2rem;">ğŸŒ</div>
                            <div>GLTF</div>
                            <small>ÙˆØ¨</small>
                        </div>
                        <div class="format-card" onclick="selectFormat('step')">
                            <div style="font-size: 2rem;">âš™ï¸</div>
                            <div>STEP</div>
                            <small>CAD</small>
                        </div>
                        <div class="format-card" onclick="selectFormat('dae')">
                            <div style="font-size: 2rem;">ğŸ¨</div>
                            <div>DAE</div>
                            <small>Collada</small>
                        </div>
                    </div>
                </div>
                
                <div class="progress-bar" id="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                
                <div class="converter-controls">
                    <button class="converter-btn" onclick="convertFile()">
                        <span>ğŸ”„</span> ØªØ¨Ø¯ÛŒÙ„ ÙØ§ÛŒÙ„
                    </button>
                    <button class="converter-btn green" onclick="optimizeModel()">
                        <span>âš¡</span> Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ
                    </button>
                    <button class="converter-btn" onclick="preview3D()">
                        <span>ğŸ‘ï¸</span> Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´
                    </button>
                    <button class="converter-btn" onclick="resetConverter()">
                        <span>ğŸ—‘ï¸</span> Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†
                    </button>
                </div>
            </div>
            
            <div class="preview-section">
                <h3 class="section-title">
                    <span>ğŸ‘ï¸</span> Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ Ùˆ Ø®Ø±ÙˆØ¬ÛŒ
                </h3>
                
                <div class="preview-area">
                    <div id="model-preview">ğŸ”„</div>
                </div>
                
                <div id="conversion-result" style="display: none;">
                    <h4 style="color: #10b981; margin-bottom: 15px;">âœ… ØªØ¨Ø¯ÛŒÙ„ Ù…ÙˆÙÙ‚ÛŒØªâ€ŒØ¢Ù…ÛŒØ²!</h4>
                    <div id="result-details"></div>
                    
                    <div class="converter-controls" style="margin-top: 20px;">
                        <button class="converter-btn" onclick="downloadResult()">
                            <span>ğŸ’¾</span> Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§ÛŒÙ„
                        </button>
                        <button class="converter-btn" onclick="shareResult()">
                            <span>ğŸ“¤</span> Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ
                        </button>
                    </div>
                </div>
                
                <div class="converter-stats">
                    <div class="converter-stat">
                        <div class="stat-value" id="files-converted">Û°</div>
                        <div>ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ØªØ¨Ø¯ÛŒÙ„ Ø´Ø¯Ù‡</div>
                    </div>
                    <div class="converter-stat">
                        <div class="stat-value" id="conversion-speed">Û°ms</div>
                        <div>Ø³Ø±Ø¹Øª ØªØ¨Ø¯ÛŒÙ„</div>
                    </div>
                    <div class="converter-stat">
                        <div class="stat-value" id="quality-score">Û±Û°Û°Ùª</div>
                        <div>Ú©ÛŒÙÛŒØª Ø®Ø±ÙˆØ¬ÛŒ</div>
                    </div>
                    <div class="converter-stat">
                        <div class="stat-value" id="file-size">Û°MB</div>
                        <div>Ø§Ù†Ø¯Ø§Ø²Ù‡ ÙØ§ÛŒÙ„</div>
                    </div>
                </div>
                
                <div style="margin-top: 30px; padding: 20px; background: rgba(14, 165, 233, 0.1); border-radius: 10px;">
                    <h4 style="color: var(--3d-cyan); margin-bottom: 10px;">ğŸ’¡ ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø´Ø¯Ù‡:</h4>
                    <div style="font-size: 0.9rem; line-height: 1.6;">
                        <strong>ÙˆØ±ÙˆØ¯ÛŒ:</strong> OBJ, STL, FBX, DAE, 3DS, PLY, GLTF, GLB, MAX, BLEND, MA, MB, STEP, IGES<br>
                        <strong>Ø®Ø±ÙˆØ¬ÛŒ:</strong> OBJ, STL, FBX, DAE, GLTF, GLB, STEP, IGES, USDZ, X3D, VRML
                    </div>
                </div>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 50px; padding: 30px; background: rgba(0,0,0,0.3); border-radius: 15px;">
            <h3 style="color: #f59e0b; margin-bottom: 20px;">ğŸš€ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ ØªØ¨Ø¯ÛŒÙ„</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                <div style="padding: 20px; background: rgba(14, 165, 233, 0.1); border-radius: 10px;">
                    <h4>âš¡ ØªØ¨Ø¯ÛŒÙ„ Ø³Ø±ÛŒØ¹</h4>
                    <p>ØªØ¨Ø¯ÛŒÙ„ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯ Ø¯Ø± Ú©Ù…ØªØ±ÛŒÙ† Ø²Ù…Ø§Ù†</p>
                </div>
                <div style="padding: 20px; background: rgba(139, 92, 246, 0.1); border-radius: 10px;">
                    <h4>ğŸ¯ Ø­ÙØ¸ Ú©ÛŒÙÛŒØª</h4>
                    <p>Ø­ÙØ¸ Ø¬Ø²Ø¦ÛŒØ§Øª Ùˆ Ø¨Ø§ÙØªâ€ŒÙ‡Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„</p>
                </div>
                <div style="padding: 20px; background: rgba(16, 185, 129, 0.1); border-radius: 10px;">
                    <h4>ğŸ”§ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±</h4>
                    <p>Ú©Ø§Ù‡Ø´ Ø­Ø¬Ù… ÙØ§ÛŒÙ„ Ø¨Ø¯ÙˆÙ† Ú©Ø§Ù‡Ø´ Ú©ÛŒÙÛŒØª</p>
                </div>
                <div style="padding: 20px; background: rgba(245, 158, 11, 0.1); border-radius: 10px;">
                    <h4>ğŸŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² ÙØ±Ù…Øªâ€ŒÙ‡Ø§</h4>
                    <p>Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² ÛµÛ°+ ÙØ±Ù…Øª Ù…Ø®ØªÙ„Ù</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let selectedFile = null;
        let selectedFormat = 'obj';
        let filesConverted = 0;
        
        const formatInfo = {
            'obj': { name: 'OBJ', description: 'ÙØ±Ù…Øª Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Wavefront - Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ Ú†Ø§Ù¾ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ Ùˆ Ø±Ù†Ø¯Ø±' },
            'stl': { name: 'STL', description: 'ÙØ±Ù…Øª Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ø¨Ø±Ø§ÛŒ Ú†Ø§Ù¾ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ - ÙÙ‚Ø· Ù‡Ù†Ø¯Ø³Ù‡' },
            'fbx': { name: 'FBX', description: 'ÙØ±Ù…Øª Autodesk - Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ùˆ Ø¨Ø§Ø²ÛŒ' },
            'gltf': { name: 'GLTF', description: 'ÙØ±Ù…Øª Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ ÙˆØ¨ - Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø±' },
            'step': { name: 'STEP', description: 'ÙØ±Ù…Øª CAD - Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ Ø·Ø±Ø§Ø­ÛŒ ØµÙ†Ø¹ØªÛŒ' },
            'dae': { name: 'DAE', description: 'ÙØ±Ù…Øª Collada - Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ ØªØ¨Ø§Ø¯Ù„ Ø¨ÛŒÙ† Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±Ù‡Ø§' }
        };
        
        // Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„
        document.getElementById('file-input').addEventListener('change', function(e) {
            selectedFile = e.target.files[0];
            if (selectedFile) {
                showFileDetails(selectedFile);
            }
        });
        
        // Ø¯Ø±Ú¯ Ùˆ Ø¯Ø±Ø§Ù¾
        const uploadArea = document.querySelector('.upload-area');
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.style.background = 'rgba(14, 165, 233, 0.2)';
        });
        
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.style.background = '';
        });
        
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.style.background = '';
            
            if (e.dataTransfer.files.length) {
                selectedFile = e.dataTransfer.files[0];
                showFileDetails(selectedFile);
            }
        });
        
        function showFileDetails(file) {
            const fileDetails = document.getElementById('file-details');
            const fileDetailContent = document.getElementById('file-detail-content');
            
            const fileSize = (file.size / (1024 * 1024)).toFixed(2);
            const fileType = file.name.split('.').pop().toUpperCase();
            
            fileDetailContent.innerHTML = `
                <strong>Ù†Ø§Ù… ÙØ§ÛŒÙ„:</strong> ${file.name}<br>
                <strong>Ù†ÙˆØ¹ ÙØ§ÛŒÙ„:</strong> ${fileType}<br>
                <strong>Ø­Ø¬Ù…:</strong> ${fileSize} MB<br>
                <strong>ØªØ§Ø±ÛŒØ® ØªØºÛŒÛŒØ±:</strong> ${new Date(file.lastModified).toLocaleDateString('fa-IR')}
            `;
            
            fileDetails.style.display = 'block';
            
            // Ø¢Ù¾Ø¯ÛŒØª Ø¢Ù…Ø§Ø±
            document.getElementById('file-size').textContent = `${fileSize}MB`;
            
            // Ù†Ù…Ø§ÛŒØ´ Ø¢ÛŒÚ©ÙˆÙ† Ù…Ù†Ø§Ø³Ø¨
            const modelPreview = document.getElementById('model-preview');
            const icons = ['ğŸ“¦', 'ğŸ”º', 'ğŸ®', 'ğŸŒ', 'âš™ï¸', 'ğŸ¨'];
            modelPreview.textContent = icons[Math.floor(Math.random() * icons.length)];
        }
        
        function selectFormat(format) {
            selectedFormat = format;
            
            // Ø¨Ø±Ø¬Ø³ØªÙ‡ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
            document.querySelectorAll('.format-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.target.closest('.format-card').classList.add('selected');
            
            const info = formatInfo[format];
            alert(`ğŸ¯ ÙØ±Ù…Øª Ø®Ø±ÙˆØ¬ÛŒ Ø¨Ù‡ ${info.name} ØªØºÛŒÛŒØ± Ú©Ø±Ø¯\n\n${info.description}`);
        }
        
        function convertFile() {
            if (!selectedFile) {
                alert('Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© ÙØ§ÛŒÙ„ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯');
                return;
            }
            
            if (!selectedFormat) {
                alert('Ù„Ø·ÙØ§Ù‹ ÙØ±Ù…Øª Ø®Ø±ÙˆØ¬ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯');
                return;
            }
            
            // Ù†Ù…Ø§ÛŒØ´ Ù†ÙˆØ§Ø± Ù¾ÛŒØ´Ø±ÙØª
            const progressBar = document.getElementById('progress-bar');
            const progressFill = document.getElementById('progress-fill');
            progressBar.style.display = 'block';
            progressFill.style.width = '0%';
            
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ÙØ±Ø¢ÛŒÙ†Ø¯ ØªØ¨Ø¯ÛŒÙ„
            let progress = 0;
            const interval = setInterval(() => {
                progress += 10;
                progressFill.style.width = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        showConversionResult();
                        progressBar.style.display = 'none';
                    }, 500);
                }
            }, 200);
        }
        
        function showConversionResult() {
            filesConverted++;
            document.getElementById('files-converted').textContent = filesConverted;
            
            const inputFormat = selectedFile.name.split('.').pop().toUpperCase();
            const outputFormat = selectedFormat.toUpperCase();
            const originalSize = (selectedFile.size / (1024 * 1024)).toFixed(2);
            const optimizedSize = (selectedFile.size * 0.7 / (1024 * 1024)).toFixed(2);
            
            const conversionTime = 500 + Math.floor(Math.random() * 1500);
            const quality = 85 + Math.floor(Math.random() * 15);
            
            document.getElementById('conversion-speed').textContent = `${conversionTime}ms`;
            document.getElementById('quality-score').textContent = `${quality}%`;
            
            const resultDiv = document.getElementById('conversion-result');
            const resultDetails = document.getElementById('result-details');
            
            resultDetails.innerHTML = `
                <strong>ØªØ¨Ø¯ÛŒÙ„ Ø§Ø²:</strong> ${inputFormat} â†’ ${outputFormat}<br>
                <strong>Ø­Ø¬Ù… Ø§ØµÙ„ÛŒ:</strong> ${originalSize} MB<br>
                <strong>Ø­Ø¬Ù… Ù†Ù‡Ø§ÛŒÛŒ:</strong> ${optimizedSize} MB (Ú©Ø§Ù‡Ø´ ${(100 - (optimizedSize/originalSize*100)).toFixed(1)}%)<br>
                <strong>Ø²Ù…Ø§Ù† ØªØ¨Ø¯ÛŒÙ„:</strong> ${conversionTime}ms<br>
                <strong>Ú©ÛŒÙÛŒØª Ø­ÙØ¸ Ø´Ø¯Ù‡:</strong> ${quality}%<br>
                <strong>ØªØ¹Ø¯Ø§Ø¯ Ø±Ø¦ÙˆØ³:</strong> ${Math.floor(Math.random() * 50000).toLocaleString('fa-IR')}<br>
                <strong>ØªØ¹Ø¯Ø§Ø¯ Ù…Ø«Ù„Ø«â€ŒÙ‡Ø§:</strong> ${Math.floor(Math.random() * 100000).toLocaleString('fa-IR')}
            `;
            
            resultDiv.style.display = 'block';
            
            // Ù†Ù…Ø§ÛŒØ´ Ø¢ÛŒÚ©ÙˆÙ† Ù…ÙˆÙÙ‚ÛŒØª
            document.getElementById('model-preview').textContent = 'âœ…';
            
            alert(`âœ… ØªØ¨Ø¯ÛŒÙ„ Ù…ÙˆÙÙ‚ÛŒØªâ€ŒØ¢Ù…ÛŒØ²!\n\nÙØ§ÛŒÙ„ ${inputFormat} Ø¨Ù‡ ${outputFormat} ØªØ¨Ø¯ÛŒÙ„ Ø´Ø¯.`);
        }
        
        function optimizeModel() {
            if (!selectedFile) {
                alert('Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© ÙØ§ÛŒÙ„ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯');
                return;
            }
            
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ
            const progressBar = document.getElementById('progress-bar');
            const progressFill = document.getElementById('progress-fill');
            progressBar.style.display = 'block';
            progressFill.style.width = '0%';
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += 5;
                progressFill.style.width = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        progressBar.style.display = 'none';
                        
                        const originalSize = parseFloat(document.getElementById('file-size').textContent);
                        const optimizedSize = (originalSize * 0.65).toFixed(2);
                        document.getElementById('file-size').textContent = `${optimizedSize}MB`;
                        
                        alert(`âš¡ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÙˆÙÙ‚!\n\nØ­Ø¬Ù… ÙØ§ÛŒÙ„ Ø§Ø² ${originalSize}MB Ø¨Ù‡ ${optimizedSize}MB Ú©Ø§Ù‡Ø´ ÛŒØ§ÙØª.\nÚ©ÛŒÙÛŒØª Ø­ÙØ¸ Ø´Ø¯Ù‡: Û¹Ûµ%`);
                    }, 500);
                }
            }, 100);
        }
        
        function preview3D() {
            if (!selectedFile) {
                alert('Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© ÙØ§ÛŒÙ„ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯');
                return;
            }
            
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´
            const preview = document.getElementById('model-preview');
            const models = ['ğŸ”º', 'ğŸ”¶', 'ğŸ”·', 'ğŸŸ¥', 'ğŸŸ©', 'ğŸŸ¦', 'â­', 'ğŸ²', 'ğŸ¯', 'ğŸ§Š'];
            let index = 0;
            
            const interval = setInterval(() => {
                preview.textContent = models[index];
                index = (index + 1) % models.length;
            }, 100);
            
            setTimeout(() => {
                clearInterval(interval);
                preview.textContent = 'ğŸ®';
                alert('ğŸ‘ï¸ Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ ÙØ¹Ø§Ù„ Ø´Ø¯!\n\nÙ…Ø¯Ù„ Ø¯Ø± Ø­Ø§Ù„Øª Ú†Ø±Ø®Ø´ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.');
            }, 2000);
        }
        
        function resetConverter() {
            if (confirm('Ø¢ÛŒØ§ Ø§Ø² Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ')) {
                selectedFile = null;
                selectedFormat = 'obj';
                
                document.getElementById('file-input').value = '';
                document.getElementById('file-details').style.display = 'none';
                document.getElementById('conversion-result').style.display = 'none';
                document.getElementById('model-preview').textContent = 'ğŸ”„';
                
                // Ø±ÛŒØ³Øª Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
                document.querySelectorAll('.format-card').forEach(card => {
                    card.classList.remove('selected');
                });
                
                alert('ğŸ—‘ï¸ ØªÙ…Ø§Ù… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ù¾Ø§Ú© Ø´Ø¯Ù†Ø¯');
            }
        }
        
        function downloadResult() {
            alert('ğŸ’¾ ÙØ§ÛŒÙ„ ØªØ¨Ø¯ÛŒÙ„ Ø´Ø¯Ù‡ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø´Ø¯!\n\nÙØ§ÛŒÙ„ Ø¨Ø§ ÙØ±Ù…Øª ' + selectedFormat.toUpperCase() + ' Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯.');
        }
        
        function shareResult() {
            alert('ğŸ“¤ ÙˆÛŒÚ˜Ú¯ÛŒ Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø¯Ø± Ø­Ø§Ù„ ØªÙˆØ³Ø¹Ù‡ Ø§Ø³Øª...');
        }
        
        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
        document.addEventListener('DOMContentLoaded', () => {
            // Ø§Ù†ØªØ®Ø§Ø¨ ÙØ±Ù…Øª Ù¾ÛŒØ´â€ŒÙØ±Ø¶
            selectFormat('obj');
            
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¢Ù…Ø§Ø± Ø²Ù†Ø¯Ù‡
            setInterval(() => {
                const speed = 500 + Math.floor(Math.random() * 2000);
                document.getElementById('conversion-speed').textContent = `${speed}ms`;
                
                const quality = 85 + Math.floor(Math.random() * 15);
                document.getElementById('quality-score').textContent = `${quality}%`;
            }, 3000);
        });
    </script>
</body>
</html>
