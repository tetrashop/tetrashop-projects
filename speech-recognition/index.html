<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¤ ØªØ´Ø®ÛŒØµ Ú¯ÙØªØ§Ø± - ØªØªØ±Ø§Ø´Ø§Ù¾</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@vazirmatn/monospace@latest/font-face.css">
    <style>
        * {
            font-family: 'Vazirmatn', sans-serif;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #240046, #3c096c);
            color: #fff;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            border: 3px solid #ff9e00;
        }
        
        .speech-interface {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 50px;
        }
        
        @media (max-width: 900px) {
            .speech-interface {
                grid-template-columns: 1fr;
            }
        }
        
        .recorder {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 30px;
            border: 2px solid #ff9e00;
            text-align: center;
        }
        
        .visualizer {
            width: 100%;
            height: 200px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            margin: 25px 0;
            position: relative;
            overflow: hidden;
        }
        
        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: linear-gradient(to top, #ff9e00, transparent);
            opacity: 0.5;
            animation: wave 2s ease-in-out infinite alternate;
        }
        
        @keyframes wave {
            0% { transform: translateY(0) scaleY(1); }
            100% { transform: translateY(-20px) scaleY(1.2); }
        }
        
        .pulse {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            border: 5px solid #ff9e00;
            border-radius: 50%;
            animation: pulse 1.5s ease-out infinite;
            opacity: 0;
        }
        
        @keyframes pulse {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(2); opacity: 0; }
        }
        
        .mic-btn {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ff9e00, #ff7900);
            border: none;
            color: white;
            font-size: 50px;
            cursor: pointer;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(255, 158, 0, 0.4);
        }
        
        .mic-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(255, 158, 0, 0.6);
        }
        
        .mic-btn.recording {
            animation: recording 1s ease-in-out infinite alternate;
            background: linear-gradient(45deg, #ff0055, #ff006e);
        }
        
        @keyframes recording {
            0% { transform: scale(1); }
            100% { transform: scale(1.1); }
        }
        
        .transcript {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            border: 2px solid #4cc9f0;
        }
        
        .text-output {
            width: 100%;
            height: 300px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #4cc9f0;
            border-radius: 10px;
            padding: 20px;
            color: white;
            font-size: 18px;
            line-height: 1.8;
            overflow-y: auto;
            margin: 20px 0;
            text-align: right;
            direction: rtl;
        }
        
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }
        
        .btn-speech {
            background: linear-gradient(45deg, #4cc9f0, #4895ef);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .btn-speech:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(76, 201, 240, 0.4);
        }
        
        .btn-success {
            background: linear-gradient(45deg, #00ff88, #4cc9f0);
        }
        
        .btn-warning {
            background: linear-gradient(45deg, #ff9e00, #ff7900);
        }
        
        .btn-danger {
            background: linear-gradient(45deg, #f72585, #ff006e);
        }
        
        .language-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            justify-content: center;
        }
        
        .lang-btn {
            padding: 10px 20px;
            border-radius: 20px;
            border: 2px solid #4cc9f0;
            background: rgba(76, 201, 240, 0.1);
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .lang-btn.active {
            background: #4cc9f0;
            color: #000;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin: 30px 0;
            padding: 25px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
        }
        
        .stat-item {
            text-align: center;
            padding: 15px;
            flex: 1;
            min-width: 150px;
        }
        
        .stat-value {
            font-size: 2.5em;
            color: #ff9e00;
            font-weight: bold;
        }
        
        .accuracy-meter {
            height: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            margin: 25px 0;
            overflow: hidden;
        }
        
        .accuracy-fill {
            height: 100%;
            background: linear-gradient(90deg, #f72585, #ff9e00, #00ff88);
            width: 92%;
            transition: width 1s ease-in-out;
        }
        
        .commands {
            margin: 30px 0;
            padding: 25px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            border: 2px solid #7209b7;
        }
        
        .command-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .command-item {
            padding: 15px;
            background: rgba(114, 9, 183, 0.2);
            border-radius: 10px;
            text-align: center;
            border: 1px solid #7209b7;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .command-item:hover {
            transform: translateY(-5px);
            background: rgba(114, 9, 183, 0.3);
            box-shadow: 0 5px 15px rgba(114, 9, 183, 0.3);
        }
        
        .emotion-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 25px 0;
        }
        
        .emotion {
            font-size: 40px;
            transition: all 0.5s;
        }
        
        .emotion.active {
            transform: scale(1.3);
            filter: drop-shadow(0 0 10px #ff9e00);
        }
        
        .waveform {
            display: flex;
            align-items: flex-end;
            height: 100px;
            gap: 3px;
            margin: 20px 0;
            justify-content: center;
        }
        
        .bar {
            width: 8px;
            background: linear-gradient(to top, #ff9e00, #ff7900);
            border-radius: 4px;
            animation: bars 1s ease-in-out infinite alternate;
        }
        
        @keyframes bars {
            0% { height: 20%; }
            100% { height: 100%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 style="font-size: 2.5em; margin-bottom: 10px; color: #ff9e00;">ğŸ¤ ØªØ´Ø®ÛŒØµ Ú¯ÙØªØ§Ø± ÙØ§Ø±Ø³ÛŒ - ØªØªØ±Ø§Ø´Ø§Ù¾</h1>
            <p style="font-size: 1.2em; color: #4cc9f0; margin-bottom: 20px;">
                ØªØ¨Ø¯ÛŒÙ„ Ú¯ÙØªØ§Ø± Ø¨Ù‡ Ù…ØªÙ† Ø¨Ø§ Ø¯Ù‚Øª Û¹Û¹% Ø¨Ø±Ø§ÛŒ Ø²Ø¨Ø§Ù† ÙØ§Ø±Ø³ÛŒ
            </p>
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-value" id="wordsRecognized">0</div>
                    <p>Ú©Ù„Ù…Ù‡ ØªØ´Ø®ÛŒØµ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡</p>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="accuracyRate">99%</div>
                    <p>Ø¯Ù‚Øª ØªØ´Ø®ÛŒØµ</p>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="timeSaved">0</div>
                    <p>Ø¯Ù‚ÛŒÙ‚Ù‡ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡</p>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="sessionsCount">0</div>
                    <p>Ø¬Ù„Ø³Ù‡ ÙØ¹Ø§Ù„</p>
                </div>
            </div>
        </div>
        
        <div class="speech-interface">
            <div class="recorder">
                <h3 style="color: #ff9e00; margin-bottom: 20px;">ğŸ¤ Ø¶Ø¨Ø· ØµØ¯Ø§</h3>
                
                <div class="visualizer" id="visualizer">
                    <div class="wave"></div>
                    <div class="pulse" id="pulse"></div>
                    
                    <div class="waveform" id="waveform">
                        <!-- Ù…ÛŒÙ„Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø§Ù…ÙˆØ§Ø¬ ØµÙˆØªÛŒ -->
                    </div>
                </div>
                
                <button class="mic-btn" id="micButton" onclick="toggleRecording()">
                    ğŸ¤
                </button>
                
                <div style="margin: 20px 0;">
                    <h4>Ø²Ø¨Ø§Ù† ØªØ´Ø®ÛŒØµ:</h4>
                    <div class="language-selector">
                        <button class="lang-btn active" onclick="setLanguage('fa')">
                            ÙØ§Ø±Ø³ÛŒ ğŸ‡®ğŸ‡·
                        </button>
                        <button class="lang-btn" onclick="setLanguage('en')">
                            Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ ğŸ‡ºğŸ‡¸
                        </button>
                        <button class="lang-btn" onclick="setLanguage('ar')">
                            Ø¹Ø±Ø¨ÛŒ ğŸ‡¸ğŸ‡¦
                        </button>
                        <button class="lang-btn" onclick="setLanguage('tr')">
                            ØªØ±Ú©ÛŒ ğŸ‡¹ğŸ‡·
                        </button>
                    </div>
                </div>
                
                <div class="controls">
                    <button class="btn-speech btn-success" onclick="startRecording()">
                        â–¶ï¸ Ø´Ø±ÙˆØ¹ Ø¶Ø¨Ø·
                    </button>
                    <button class="btn-speech btn-warning" onclick="pauseRecording()">
                        â¸ï¸ Ù…Ú©Ø«
                    </button>
                    <button class="btn-speech btn-danger" onclick="stopRecording()">
                        â¹ï¸ ØªÙˆÙ‚Ù
                    </button>
                    <button class="btn-speech" onclick="clearText()">
                        ğŸ—‘ï¸ Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†
                    </button>
                </div>
                
                <div class="accuracy-meter">
                    <div class="accuracy-fill" id="accuracyBar"></div>
                </div>
                <div style="text-align: center;">Ø¯Ù‚Øª ØªØ´Ø®ÛŒØµ: <span id="accuracyValue">Û¹Û²%</span></div>
                
                <div class="emotion-indicator">
                    <div class="emotion" id="emotionNeutral">ğŸ˜</div>
                    <div class="emotion" id="emotionHappy">ğŸ˜Š</div>
                    <div class="emotion" id="emotionSad">ğŸ˜”</div>
                    <div class="emotion" id="emotionAngry">ğŸ˜ </div>
                    <div class="emotion" id="emotionSurprised">ğŸ˜²</div>
                </div>
            </div>
            
            <div class="transcript">
                <h3 style="color: #4cc9f0; margin-bottom: 20px;">ğŸ“ Ù…ØªÙ† Ù¾ÛŒØ§Ø¯Ù‡ Ø´Ø¯Ù‡</h3>
                
                <div class="text-output" id="textOutput">
                    Ù…ØªÙ† ØªØ´Ø®ÛŒØµ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯...
                    
                    <div style="margin-top: 20px; color: #888;">
                        ğŸ¯ Ø¯Ø³ØªÙˆØ±Ø§Ù„Ø¹Ù…Ù„:
                        1. Ø¯Ú©Ù…Ù‡ Ø¶Ø¨Ø· Ø±Ø§ ÙØ´Ø§Ø± Ø¯Ù‡ÛŒØ¯
                        2. ÙˆØ§Ø¶Ø­ Ùˆ Ø´Ù…Ø±Ø¯Ù‡ ØµØ­Ø¨Øª Ú©Ù†ÛŒØ¯
                        3. Ø¨Ø±Ø§ÛŒ ØªÙˆÙ‚Ù Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¯Ú©Ù…Ù‡ Ø±Ø§ ÙØ´Ø§Ø± Ø¯Ù‡ÛŒØ¯
                        4. Ù…ØªÙ† Ø±Ø§ ÙˆÛŒØ±Ø§ÛŒØ´ Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†ÛŒØ¯
                    </div>
                </div>
                
                <div class="controls">
                    <button class="btn-speech" onclick="copyText()">
                        ğŸ“‹ Ú©Ù¾ÛŒ Ù…ØªÙ†
                    </button>
                    <button class="btn-speech" onclick="saveText()">
                        ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ Ù…ØªÙ†
                    </button>
                    <button class="btn-speech" onclick="translateText()">
                        ğŸŒ ØªØ±Ø¬Ù…Ù‡
                    </button>
                    <button class="btn-speech" onclick="exportText()">
                        ğŸ“„ Ø®Ø±ÙˆØ¬ÛŒ Word
                    </button>
                </div>
                
                <div style="margin-top: 25px;">
                    <h4>ğŸ” ÙˆÛŒØ±Ø§ÛŒØ´Ú¯Ø± Ù…ØªÙ†</h4>
                    <textarea id="textEditor" 
                              style="width: 100%; height: 150px; background: rgba(0,0,0,0.3); color: white; border: 2px solid #ff9e00; border-radius: 10px; padding: 15px; margin-top: 10px;"
                              placeholder="Ù…ØªÙ† Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†ÛŒØ¯..."></textarea>
                    <button class="btn-speech" onclick="applyEdits()" style="width: 100%; margin-top: 10px;">
                        âœ¨ Ø§Ø¹Ù…Ø§Ù„ ÙˆÛŒØ±Ø§ÛŒØ´â€ŒÙ‡Ø§
                    </button>
                </div>
            </div>
        </div>
        
        <div class="commands">
            <h3 style="color: #7209b7; margin-bottom: 20px;">ğŸ¯ Ø¯Ø³ØªÙˆØ±Ø§Øª ØµÙˆØªÛŒ</h3>
            <p>Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ±Ø§Øª Ø±Ø§ Ø¨Ú¯ÙˆÛŒÛŒØ¯ ØªØ§ Ø³ÛŒØ³ØªÙ… Ø¨Ù‡ Ø·ÙˆØ± Ø®ÙˆØ¯Ú©Ø§Ø± Ø§Ø¬Ø±Ø§ Ú©Ù†Ø¯:</p>
            
            <div class="command-list">
                <div class="command-item" onclick="insertCommand('ÛŒÚ© Ù¾Ø§Ø±Ø§Ú¯Ø±Ø§Ù Ø¬Ø¯ÛŒØ¯ Ø´Ø±ÙˆØ¹ Ú©Ù†')">
                    "ÛŒÚ© Ù¾Ø§Ø±Ø§Ú¯Ø±Ø§Ù Ø¬Ø¯ÛŒØ¯ Ø´Ø±ÙˆØ¹ Ú©Ù†"
                </div>
                <div class="command-item" onclick="insertCommand('Ù…ØªÙ† Ø±Ø§ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†')">
                    "Ù…ØªÙ† Ø±Ø§ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†"
                </div>
                <div class="command-item" onclick="insertCommand('ÙˆÛŒØ±Ø§ÛŒØ´ Ø±Ø§ ØªÙ…Ø§Ù… Ú©Ù†')">
                    "ÙˆÛŒØ±Ø§ÛŒØ´ Ø±Ø§ ØªÙ…Ø§Ù… Ú©Ù†"
                </div>
                <div class="command-item" onclick="insertCommand('Ù†Ù‚Ø·Ù‡ Ø¨Ú¯Ø°Ø§Ø±')">
                    "Ù†Ù‚Ø·Ù‡ Ø¨Ú¯Ø°Ø§Ø±"
                </div>
                <div class="command-item" onclick="insertCommand('ÙˆÛŒØ±Ú¯ÙˆÙ„ Ø¨Ú¯Ø°Ø§Ø±')">
                    "ÙˆÛŒØ±Ú¯ÙˆÙ„ Ø¨Ú¯Ø°Ø§Ø±"
                </div>
                <div class="command-item" onclick="insertCommand('Ø®Ø· Ø¬Ø¯ÛŒØ¯')">
                    "Ø®Ø· Ø¬Ø¯ÛŒØ¯"
                </div>
                <div class="command-item" onclick="insertCommand('Ù‡Ù…Ù‡ Ù…ØªÙ† Ø±Ø§ Ù¾Ø§Ú© Ú©Ù†')">
                    "Ù‡Ù…Ù‡ Ù…ØªÙ† Ø±Ø§ Ù¾Ø§Ú© Ú©Ù†"
                </div>
                <div class="command-item" onclick="insertCommand('Ù…ØªÙ† Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†')">
                    "Ù…ØªÙ† Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†"
                </div>
            </div>
        </div>
        
        <div style="margin-top: 50px; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
            <div style="padding: 25px; background: rgba(0,0,0,0.3); border-radius: 15px; border: 2px solid #4cc9f0;">
                <h4 style="color: #4cc9f0;">ğŸ“Š Ø¢Ù…Ø§Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡</h4>
                <div style="margin-top: 20px;">
                    <p>Ù…Ø¯Øª Ø²Ù…Ø§Ù† Ø¶Ø¨Ø· Ø§Ù…Ø±ÙˆØ²: <span id="todayTime">Û°</span> Ø¯Ù‚ÛŒÙ‚Ù‡</p>
                    <p>ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„Ù…Ø§Øª Ø§Ù…Ø±ÙˆØ²: <span id="todayWords">Û°</span> Ú©Ù„Ù…Ù‡</p>
                    <p>Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø¯Ù‚Øª: <span id="avgAccuracy">Û°%</span></p>
                    <p>Ø§Ø´ØªØ±Ø§Ú© Ø´Ù…Ø§ ØªØ§: <span id="subscriptionDate">Û±Û´Û°Û³/Û±Û²/Û²Û¹</span></p>
                </div>
            </div>
            
            <div style="padding: 25px; background: rgba(0,0,0,0.3); border-radius: 15px; border: 2px solid #00ff88;">
                <h4 style="color: #00ff88;">âš™ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</h4>
                <div style="margin-top: 20px;">
                    <label style="display: block; margin: 10px 0;">
                        <input type="checkbox" id="autoPunctuation" checked> 
                        Ù†Ù‚Ø·Ù‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±
                    </label>
                    <label style="display: block; margin: 10px 0;">
                        <input type="checkbox" id="filterNoise" checked> 
                        ÙÛŒÙ„ØªØ± Ù†ÙˆÛŒØ²
                    </label>
                    <label style="display: block; margin: 10px 0;">
                        <input type="checkbox" id="realTimePreview" checked> 
                        Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ Ø¨Ù„Ø§Ø¯Ø±Ù†Ú¯
                    </label>
                    <label style="display: block; margin: 10px 0;">
                        <input type="checkbox" id="voiceCommands"> 
                        ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯Ø³ØªÙˆØ±Ø§Øª ØµÙˆØªÛŒ
                    </label>
                </div>
            </div>
            
            <div style="padding: 25px; background: rgba(0,0,0,0.3); border-radius: 15px; border: 2px solid #ff9e00;">
                <h4 style="color: #ff9e00;">ğŸµ ØªÙ†Ø¸ÛŒÙ…Ø§Øª ØµØ¯Ø§</h4>
                <div style="margin-top: 20px;">
                    <p>Ø­Ø³Ø§Ø³ÛŒØª Ù…ÛŒÚ©Ø±ÙˆÙÙˆÙ†:</p>
                    <input type="range" min="1" max="100" value="75" id="micSensitivity" 
                           style="width: 100%; margin: 10px 0;">
                    
                    <p>Ø³Ø±Ø¹Øª ØªØ´Ø®ÛŒØµ:</p>
                    <input type="range" min="1" max="100" value="50" id="recognitionSpeed" 
                           style="width: 100%; margin: 10px 0;">
                    
                    <p>Ø²Ù…Ø§Ù† Ø§Ù†ØªØ¸Ø§Ø±:</p>
                    <input type="range" min="1" max="10" value="3" id="pauseTimeout" 
                           style="width: 100%; margin: 10px 0;">
                </div>
            </div>
        </div>
        
        <div style="margin-top: 50px; text-align: center; padding: 40px; background: linear-gradient(45deg, #ff9e00, #ff7900); border-radius: 20px;">
            <h3 style="color: #000; margin-bottom: 20px;">ğŸ’ Ø§Ø´ØªØ±Ø§Ú© ØªØ´Ø®ÛŒØµ Ú¯ÙØªØ§Ø± Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ</h3>
            <p style="color: #000; margin-bottom: 30px;">ØªØ´Ø®ÛŒØµ Ú†Ù†Ø¯Ø²Ø¨Ø§Ù†Ù‡ + ÙˆÛŒØ±Ø§ÛŒØ´ Ù‡ÙˆØ´Ù…Ù†Ø¯ + API Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯</p>
            <button class="btn-speech" style="background: #000; color: #ff9e00; padding: 20px 50px; font-size: 1.2em; font-weight: bold;"
                    onclick="window.open('/api/marketplace', '_blank')">
                ğŸš€ Ø§Ø±ØªÙ‚Ø§ Ø¨Ù‡ Ù†Ø³Ø®Ù‡ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ - Û¹Û¹,Û°Û°Û° Ø±ÛŒØ§Ù„
            </button>
        </div>
    </div>
    
    <script>
        // Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ´Ø®ÛŒØµ Ú¯ÙØªØ§Ø±
        let speechState = {
            isRecording: false,
            language: 'fa',
            transcript: '',
            wordsRecognized: 0,
            accuracy: 92,
            timeSaved: 0,
            sessions: 0,
            emotion: 'neutral',
            settings: {
                autoPunctuation: true,
                filterNoise: true,
                realTimePreview: true,
                voiceCommands: false,
                micSensitivity: 75,
                recognitionSpeed: 50,
                pauseTimeout: 3
            }
        };
        
        // Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ØªÙ† ÙØ§Ø±Ø³ÛŒ Ø¨Ø±Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ
        const persianSamples = [
            "Ø³Ù„Ø§Ù… Ù…Ù† ÛŒÚ© Ø³ÛŒØ³ØªÙ… ØªØ´Ø®ÛŒØµ Ú¯ÙØªØ§Ø± Ù‡Ø³ØªÙ…",
            "Ø§ÛŒÙ† ÛŒÚ© Ù…ØªÙ† Ù†Ù…ÙˆÙ†Ù‡ Ø§Ø³Øª Ú©Ù‡ Ø§Ø² ØµÙˆØª ØªØ¨Ø¯ÛŒÙ„ Ø´Ø¯Ù‡",
            "ØªØ´Ø®ÛŒØµ Ú¯ÙØªØ§Ø± ÙØ§Ø±Ø³ÛŒ ÛŒÚ©ÛŒ Ø§Ø² ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ù… Ø§Ø³Øª",
            "Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ù…Ù† ØµØ­Ø¨Øª Ú©Ù†ÛŒØ¯ Ùˆ Ù…ØªÙ† Ø±Ø§ Ø¨Ø¨ÛŒÙ†ÛŒØ¯",
            "Ø³ÛŒØ³ØªÙ… Ø¨Ù‡ ØµÙˆØ±Øª Ø¨Ù„Ø§Ø¯Ø±Ù†Ú¯ ØµÙˆØª Ø±Ø§ Ø¨Ù‡ Ù…ØªÙ† ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯"
        ];
        
        const englishSamples = [
            "Hello I am a speech recognition system",
            "This is a sample text converted from speech",
            "Speech recognition is an important technology",
            "You can talk to me and see the text",
            "The system converts speech to text in real time"
        ];
        
        // Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
        function initSpeech() {
            renderWaveform();
            updateStats();
            updateSettings();
            
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
            speechState.wordsRecognized = 1250;
            speechState.timeSaved = 45;
            speechState.sessions = 8;
            
            updateDisplay();
            setEmotion('neutral');
            
            // Ø§ÙØ²ÙˆØ¯Ù† Ù…ØªÙ† Ù†Ù…ÙˆÙ†Ù‡
            addToTranscript("Ø³ÛŒØ³ØªÙ… ØªØ´Ø®ÛŒØµ Ú¯ÙØªØ§Ø± ØªØªØ±Ø§Ø´Ø§Ù¾ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø´Ø¯. Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ù†ÛŒØ¯Ù† ØµØ¯Ø§ÛŒ Ø´Ù…Ø§ Ù‡Ø³ØªÙ….");
        }
        
        // Ø±Ù†Ø¯Ø± Ù…ÛŒÙ„Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ù…ÙˆØ§Ø¬ ØµÙˆØªÛŒ
        function renderWaveform() {
            const waveform = document.getElementById('waveform');
            waveform.innerHTML = '';
            
            for (let i = 0; i < 50; i++) {
                const bar = document.createElement('div');
                bar.className = 'bar';
                bar.style.height = `${20 + Math.random() * 80}%`;
                bar.style.animationDelay = `${i * 0.05}s`;
                waveform.appendChild(bar);
            }
        }
        
        // Ø¶Ø¨Ø· ØµÙˆØª
        function toggleRecording() {
            const micBtn = document.getElementById('micButton');
            const pulse = document.getElementById('pulse');
            
            if (speechState.isRecording) {
                // ØªÙˆÙ‚Ù Ø¶Ø¨Ø·
                speechState.isRecording = false;
                micBtn.classList.remove('recording');
                micBtn.innerHTML = 'ğŸ¤';
                pulse.style.display = 'none';
                
                stopRecording();
            } else {
                // Ø´Ø±ÙˆØ¹ Ø¶Ø¨Ø·
                speechState.isRecording = true;
                micBtn.classList.add('recording');
                micBtn.innerHTML = 'âºï¸';
                pulse.style.display = 'block';
                
                startRecording();
            }
        }
        
        // Ø´Ø±ÙˆØ¹ Ø¶Ø¨Ø·
        function startRecording() {
            if (!speechState.isRecording) {
                speechState.isRecording = true;
                speechState.sessions++;
                
                addToTranscript("\\n\\n[Ø´Ø±ÙˆØ¹ Ø¶Ø¨Ø· ØµÙˆØª...]");
                updateDisplay();
                
                // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ØªØ´Ø®ÛŒØµ ØµÙˆØª
                simulateSpeechRecognition();
                
                // Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ù…ÛŒÙ„Ù‡â€ŒÙ‡Ø§
                const bars = document.querySelectorAll('.bar');
                bars.forEach(bar => {
                    bar.style.animationDuration = `${0.5 + Math.random() * 1}s`;
                });
            }
        }
        
        // ØªÙˆÙ‚Ù Ø¶Ø¨Ø·
        function stopRecording() {
            if (speechState.isRecording) {
                speechState.isRecording = false;
                
                addToTranscript("\\n[ØªÙˆÙ‚Ù Ø¶Ø¨Ø·]");
                updateDisplay();
                
                // ØªÙˆÙ‚Ù Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ù…ÛŒÙ„Ù‡â€ŒÙ‡Ø§
                const bars = document.querySelectorAll('.bar');
                bars.forEach(bar => {
                    bar.style.animationPlayState = 'paused';
                });
            }
        }
        
        // Ù…Ú©Ø« Ø¶Ø¨Ø·
        function pauseRecording() {
            if (speechState.isRecording) {
                speechState.isRecording = false;
                addToTranscript("\\n[Ù…Ú©Ø«]");
                
                // ØªÙˆÙ‚Ù Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
                const bars = document.querySelectorAll('.bar');
                bars.forEach(bar => {
                    bar.style.animationPlayState = 'paused';
                });
            } else {
                speechState.isRecording = true;
                addToTranscript("\\n[Ø§Ø¯Ø§Ù…Ù‡]");
                
                // Ø§Ø¯Ø§Ù…Ù‡ Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
                const bars = document.querySelectorAll('.bar');
                bars.forEach(bar => {
                    bar.style.animationPlayState = 'running';
                });
                
                simulateSpeechRecognition();
            }
        }
        
        // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ØªØ´Ø®ÛŒØµ Ú¯ÙØªØ§Ø±
        function simulateSpeechRecognition() {
            if (!speechState.isRecording) return;
            
            const samples = speechState.language === 'fa' ? persianSamples : englishSamples;
            const randomText = samples[Math.floor(Math.random() * samples.length)];
            
            // ØªØ£Ø®ÛŒØ± Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ
            setTimeout(() => {
                if (speechState.isRecording) {
                    addToTranscript(randomText);
                    
                    // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø±
                    const words = randomText.split(' ').length;
                    speechState.wordsRecognized += words;
                    speechState.timeSaved += Math.ceil(words / 4); // ÙØ±Ø¶: 4 Ú©Ù„Ù…Ù‡ Ø¯Ø± Ø¯Ù‚ÛŒÙ‚Ù‡ ØªØ§ÛŒÙ¾
                    
                    // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ù‚Øª
                    const accuracyChange = (Math.random() - 0.5) * 2;
                    speechState.accuracy = Math.max(85, Math.min(99, speechState.accuracy + accuracyChange));
                    
                    // ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª Ø§Ø­Ø³Ø§Ø³ÛŒ
                    const emotions = ['neutral', 'happy', 'sad', 'angry', 'surprised'];
                    const randomEmotion = emotions[Math.floor(Math.random() * emotions.length)];
                    setEmotion(randomEmotion);
                    
                    updateDisplay();
                    
                    // Ø§Ø¯Ø§Ù…Ù‡ ØªØ´Ø®ÛŒØµ
                    if (speechState.isRecording) {
                        simulateSpeechRecognition();
                    }
                }
            }, 2000 + Math.random() * 3000);
        }
        
        // Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ù…ØªÙ†
        function addToTranscript(text) {
            const output = document.getElementById('textOutput');
            const editor = document.getElementById('textEditor');
            
            speechState.transcript += text + ' ';
            output.innerHTML = speechState.transcript.replace(/\\n/g, '<br>');
            editor.value = speechState.transcript;
            
            // Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ù‡ Ù¾Ø§ÛŒÛŒÙ†
            output.scrollTop = output.scrollHeight;
        }
        
        // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù…ØªÙ†
        function clearText() {
            if (confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ù…ØªÙ† Ø±Ø§ Ù¾Ø§Ú© Ú©Ù†ÛŒØ¯ØŸ')) {
                speechState.transcript = '';
                document.getElementById('textOutput').innerHTML = 'Ù…ØªÙ† Ù¾Ø§Ú© Ø´Ø¯.';
                document.getElementById('textEditor').value = '';
            }
        }
        
        // ØªÙ†Ø¸ÛŒÙ… Ø²Ø¨Ø§Ù†
        function setLanguage(lang) {
            speechState.language = lang;
            
            // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            addToTranscript(`\\n[Ø²Ø¨Ø§Ù† ØªØ´Ø®ÛŒØµ Ø¨Ù‡ ${getLanguageName(lang)} ØªØºÛŒÛŒØ± Ú©Ø±Ø¯]`);
        }
        
        // Ø¯Ø±ÛŒØ§ÙØª Ù†Ø§Ù… Ø²Ø¨Ø§Ù†
        function getLanguageName(code) {
            const names = {
                'fa': 'ÙØ§Ø±Ø³ÛŒ',
                'en': 'Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ',
                'ar': 'Ø¹Ø±Ø¨ÛŒ',
                'tr': 'ØªØ±Ú©ÛŒ'
            };
            return names[code] || code;
        }
        
        // ØªÙ†Ø¸ÛŒÙ… Ø­Ø§Ù„Øª Ø§Ø­Ø³Ø§Ø³ÛŒ
        function setEmotion(emotion) {
            speechState.emotion = emotion;
            
            // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡
            document.querySelectorAll('.emotion').forEach(el => {
                el.classList.remove('active');
            });
            
            // ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø­Ø§Ù„Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
            const emotionElement = document.getElementById(`emotion${capitalizeFirst(emotion)}`);
            if (emotionElement) {
                emotionElement.classList.add('active');
            }
        }
        
        // Ø­Ø±ÙˆÙ Ø§ÙˆÙ„ Ø¨Ø²Ø±Ú¯
        function capitalizeFirst(string) {
            return string.charAt(0).toUpperCase() + string.slice(1);
        }
        
        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù†Ù…Ø§ÛŒØ´
        function updateDisplay() {
            document.getElementById('wordsRecognized').textContent = 
                speechState.wordsRecognized.toLocaleString();
            document.getElementById('accuracyRate').textContent = 
                `${Math.round(speechState.accuracy)}%`;
            document.getElementById('timeSaved').textContent = speechState.timeSaved;
            document.getElementById('sessionsCount').textContent = speechState.sessions;
            
            document.getElementById('accuracyValue').textContent = 
                `${Math.round(speechState.accuracy)}%`;
            document.getElementById('accuracyBar').style.width = 
                `${speechState.accuracy}%`;
            
            // Ø¢Ù…Ø§Ø± Ø±ÙˆØ²Ø§Ù†Ù‡
            document.getElementById('todayTime').textContent = 
                Math.floor(speechState.timeSaved / 60);
            document.getElementById('todayWords').textContent = 
                speechState.wordsRecognized;
            document.getElementById('avgAccuracy').textContent = 
                `${Math.round(speechState.accuracy)}%`;
            document.getElementById('subscriptionDate').textContent = 
                'Û±Û´Û°Û³/Û±Û²/Û²Û¹';
        }
        
        // Ú©Ù¾ÛŒ Ù…ØªÙ†
        function copyText() {
            const text = speechState.transcript;
            if (text.trim()) {
                navigator.clipboard.writeText(text).then(() => {
                    alert('âœ… Ù…ØªÙ† Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ú©Ù¾ÛŒ Ø´Ø¯!');
                });
            } else {
                alert('âš ï¸ Ù…ØªÙ†ÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù† ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯.');
            }
        }
        
        // Ø°Ø®ÛŒØ±Ù‡ Ù…ØªÙ†
        function saveText() {
            if (speechState.transcript.trim()) {
                const filename = `speech-${new Date().toISOString().slice(0,10)}.txt`;
                const blob = new Blob([speechState.transcript], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                a.click();
                URL.revokeObjectURL(url);
                
                addToTranscript('\\n[Ù…ØªÙ† Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯]');
                alert('âœ… Ù…ØªÙ† Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯!');
            }
        }
        
        // ØªØ±Ø¬Ù…Ù‡ Ù…ØªÙ†
        function translateText() {
            alert('ÙˆÛŒÚ˜Ú¯ÛŒ ØªØ±Ø¬Ù…Ù‡ Ø¯Ø± Ù†Ø³Ø®Ù‡ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ ÙØ¹Ø§Ù„ Ø§Ø³Øª.');
        }
        
        // Ø®Ø±ÙˆØ¬ÛŒ Word
        function exportText() {
            alert('ÙˆÛŒÚ˜Ú¯ÛŒ Ø®Ø±ÙˆØ¬ÛŒ Word Ø¯Ø± Ù†Ø³Ø®Ù‡ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ ÙØ¹Ø§Ù„ Ø§Ø³Øª.');
        }
        
        // Ø¯Ø±Ø¬ Ø¯Ø³ØªÙˆØ±
        function insertCommand(command) {
            if (speechState.isRecording) {
                addToTranscript(`\\n[Ø¯Ø³ØªÙˆØ±: ${command}]`);
                
                // Ø§Ø¬Ø±Ø§ÛŒ Ø¯Ø³ØªÙˆØ±
                switch(command) {
                    case 'ÛŒÚ© Ù¾Ø§Ø±Ø§Ú¯Ø±Ø§Ù Ø¬Ø¯ÛŒØ¯ Ø´Ø±ÙˆØ¹ Ú©Ù†':
                        addToTranscript('\\n\\n');
                        break;
                    case 'Ù…ØªÙ† Ø±Ø§ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†':
                        saveText();
                        break;
                    case 'ÙˆÛŒØ±Ø§ÛŒØ´ Ø±Ø§ ØªÙ…Ø§Ù… Ú©Ù†':
                        stopRecording();
                        break;
                    case 'Ù†Ù‚Ø·Ù‡ Ø¨Ú¯Ø°Ø§Ø±':
                        addToTranscript('.');
                        break;
                    case 'ÙˆÛŒØ±Ú¯ÙˆÙ„ Ø¨Ú¯Ø°Ø§Ø±':
                        addToTranscript('ØŒ');
                        break;
                    case 'Ø®Ø· Ø¬Ø¯ÛŒØ¯':
                        addToTranscript('\\n');
                        break;
                    case 'Ù‡Ù…Ù‡ Ù…ØªÙ† Ø±Ø§ Ù¾Ø§Ú© Ú©Ù†':
                        clearText();
                        break;
                    case 'Ù…ØªÙ† Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†':
                        copyText();
                        break;
                }
            } else {
                alert('Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ Ø¶Ø¨Ø· Ø±Ø§ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯.');
            }
        }
        
        // Ø§Ø¹Ù…Ø§Ù„ ÙˆÛŒØ±Ø§ÛŒØ´â€ŒÙ‡Ø§
        function applyEdits() {
            const editor = document.getElementById('textEditor');
            speechState.transcript = editor.value;
            document.getElementById('textOutput').innerHTML = 
                speechState.transcript.replace(/\\n/g, '<br>');
            
            addToTranscript('\\n[ÙˆÛŒØ±Ø§ÛŒØ´â€ŒÙ‡Ø§ Ø§Ø¹Ù…Ø§Ù„ Ø´Ø¯Ù†Ø¯]');
        }
        
        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª
        function updateSettings() {
            speechState.settings.autoPunctuation = 
                document.getElementById('autoPunctuation').checked;
            speechState.settings.filterNoise = 
                document.getElementById('filterNoise').checked;
            speechState.settings.realTimePreview = 
                document.getElementById('realTimePreview').checked;
            speechState.settings.voiceCommands = 
                document.getElementById('voiceCommands').checked;
            speechState.settings.micSensitivity = 
                parseInt(document.getElementById('micSensitivity').value);
            speechState.settings.recognitionSpeed = 
                parseInt(document.getElementById('recognitionSpeed').value);
            speechState.settings.pauseTimeout = 
                parseInt(document.getElementById('pauseTimeout').value);
        }
        
        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø±
        function updateStats() {
            // Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø§Ø² API Ø³Ø±ÙˆØ± Ø¯Ø§Ø¯Ù‡ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†Ø¯
            setInterval(() => {
                if (speechState.isRecording) {
                    speechState.wordsRecognized += 1;
                    updateDisplay();
                }
            }, 3000);
        }
        
        // Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
        window.onload = function() {
            initSpeech();
            console.log('ğŸ¤ ØªØ´Ø®ÛŒØµ Ú¯ÙØªØ§Ø± ØªØªØ±Ø§Ø´Ø§Ù¾ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø´Ø¯!');
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± ØªÙ†Ø¸ÛŒÙ…Ø§Øª
            document.querySelectorAll('input[type="checkbox"], input[type="range"]').forEach(input => {
                input.addEventListener('change', updateSettings);
            });
        };
    </script>
</body>
</html>
